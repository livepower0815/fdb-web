(window.webpackJsonp=window.webpackJsonp||[]).push([[35,13,21],{798:function(t,e,n){t.exports=n.p+"img/close-eye.0775c56.svg"},801:function(t,e,n){"use strict";n.r(e);var r={name:"PasswordIcon",props:{pwdType:{type:String,default:"password"}},computed:{pt:{get:function(){return this.pwdType},set:function(t){this.$emit("update:pwdType",t)}}},methods:{togglePwd:function(){this.pt="password"===this.pt?"text":"password"}}},o=n(24),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticStyle:{position:"relative",float:"left"}},["password"===t.pt?e("img",{staticStyle:{position:"absolute",top:"13px",right:"12px","box-sizing":"content-box",width:"auto",height:"7px",padding:"3px 0"},attrs:{src:n(798),alt:"colse-eye"},on:{click:t.togglePwd}}):t._e(),t._v(" "),"text"===t.pt?e("i",{staticClass:"el-icon-view",staticStyle:{position:"absolute",top:"13px",right:"12px","box-sizing":"content-box"},on:{click:t.togglePwd}}):t._e()])}),[],!1,null,null,null);e.default=component.exports},806:function(t,e,n){var content=n(817);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(39).default)("57f9cf07",content,!0,{sourceMap:!1})},816:function(t,e,n){"use strict";n(806)},817:function(t,e,n){var r=n(38)(!1);r.push([t.i,".fdb-google-btn[data-v-a2eef8cc]{padding:2px;background-color:#1b73e8;border-radius:100px}",""]),t.exports=r},821:function(t,e,n){"use strict";n.r(e);n(48),n(53),n(75),n(14),n(111),n(54),n(112);var r=n(50),o=n(1),c=(n(17),n(78),function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.google){t.next=5;break}return t.next=3,new Promise((function(t){window.setTimeout((function(){t()}),100)}));case 3:t.next=0;break;case 5:window.google.accounts.id.initialize({client_id:"609031941340-kmrbpj2a3kne1931unv82tr6nlarncn3.apps.googleusercontent.com",callback:e});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),l={TW:"zh-TW",EN:"en-US",CN:"zh-CN",JP:"ja",KR:"ko"},d={initialize:c,renderButton:function(t){var e=t.text,text=void 0===e?"signup_with":e,n=t.locale,r=void 0===n?"EN":n;window.google.accounts.id.renderButton(document.getElementById("g-login-button"),{theme:"filled_blue",text:text,shape:"circle",locale:l[r]||"en-US"})}};function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={name:"GoogleBtn",props:{config:{type:Object,default:function(){return{}}}},mounted:function(){this.initGoogleAccount()},methods:{initGoogleAccount:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.initialize(t.handleCredentialResponse);case 2:d.renderButton(f({locale:t.$route.params.lang},t.config));case 3:case"end":return e.stop()}}),e)})))()},handleCredentialResponse:function(t){if(t.error)return console.error(t.error);this.$emit("success",t)}}},w=(n(816),n(24)),component=Object(w.a)(v,(function(){return(0,this._self._c)("div",{staticClass:"fdb-google-btn",attrs:{id:"g-login-button"}})}),[],!1,null,"a2eef8cc",null);e.default=component.exports},887:function(t,e,n){"use strict";n.r(e);n(137),n(76);var r=n(1),o=(n(49),n(14),n(17),{name:"Login",data:function(){return{isLoading:!1,passwordType:"password",formData:{account:"",password:"",captchaCode:"",uuid:""},captchaImg:"",validateEmail:{show:!1,loading:!1,hasSent:!1}}},mounted:function(){this.init()},methods:{init:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.formData.captchaCode="",t.formData.uuid="",t.captchaImg="",e.next=6,t.$api.user.getCaptchaImage();case 6:n=e.sent,t.captchaImg=n.img,t.formData.uuid=n.uuid,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},doLogin:function(){var t=arguments,e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,c,l,d,m,f,v,w;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.length>0&&void 0!==t[0]&&t[0],o=t.length>1&&void 0!==t[1]?t[1]:{},n.prev=2,e.isLoading=!0,!r){n.next=11;break}return l={credential:o.credential},n.next=8,e.$api.user.googleLogin(l);case 8:c=n.sent,n.next=17;break;case 11:return n.next=13,e.validate();case 13:return d={account:e.formData.account,password:e.formData.password,captchaCode:e.formData.captchaCode,uuid:e.formData.uuid},n.next=16,e.$store.dispatch("user/login",d);case 16:c=n.sent;case 17:e.$store.commit("user/SET_TOKEN",c.data),e.$message.success(e.$t("login_success")),e.$router.push({name:"lang-dashboard",params:{lang:e.$route.params.lang}},(function(){})),n.next=26;break;case 22:n.prev=22,n.t0=n.catch(2),n.t0.isHttpError?2===(null===(m=n.t0.response)||void 0===m||null===(f=m.data)||void 0===f?void 0:f.result)?(e.validateEmail.show=!0,e.validateEmail.hasSent=!1):3===(null===(v=n.t0.response)||void 0===v||null===(w=v.data)||void 0===w?void 0:w.result)&&e.init():e.$message.error(n.t0.message),console.error(n.t0);case 26:return n.prev=26,e.isLoading=!1,n.finish(26);case 29:case"end":return n.stop()}}),n,null,[[2,22,26,29]])})))()},validate:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(/\S+@\S+.\S+/.test(t.formData.account)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("".concat(t.$t("email"),"：").concat(t.$t("enter_correct_email")))));case 2:if(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/.test(t.formData.password)){e.next=4;break}return e.abrupt("return",Promise.reject(new Error("".concat(t.$t("password"),"：").concat(t.$t("enter_number_slot",{number:"6"})))));case 4:if(t.formData.captchaCode){e.next=6;break}return e.abrupt("return",Promise.reject(new Error(t.$t("please_enter_captcha"))));case 6:return e.abrupt("return","done");case 7:case"end":return e.stop()}}),e)})))()},reSentEmail:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.validateEmail.loading=!0,e.prev=1,n={email:t.formData.account,password:t.formData.password},e.next=5,t.$api.user.reSendCheckMail(n);case 5:t.validateEmail.hasSent=!0,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:t.validateEmail.loading=!1;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()}}}),c=o,l=n(24),component=Object(l.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-bg"},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"login-main-block",attrs:{"element-loading-background":"rgba(0, 0, 0, 0.5)"}},[e("div",{staticClass:"main"},[e("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"text",name:"username"}}),t._v(" "),e("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"password",name:"password"}}),t._v(" "),e("div",{staticClass:"title"},[t._v(t._s(t.$t("member_login")))]),t._v(" "),e("div",{staticClass:"login-main"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("email")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.account,expression:"formData.account"}],staticClass:"input",attrs:{type:"text",placeholder:"example@mail.com",autocomplete:"off"},domProps:{value:t.formData.account},on:{input:function(e){e.target.composing||t.$set(t.formData,"account",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"login-main"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("password")))]),t._v(" "),"checkbox"===t.passwordType?e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],staticClass:"input",attrs:{placeholder:t.$t("enter_en_number",{number:"6"}),autocomplete:"off",type:"checkbox"},domProps:{checked:Array.isArray(t.formData.password)?t._i(t.formData.password,null)>-1:t.formData.password},on:{change:function(e){var n=t.formData.password,r=e.target,o=!!r.checked;if(Array.isArray(n)){var c=t._i(n,null);r.checked?c<0&&t.$set(t.formData,"password",n.concat([null])):c>-1&&t.$set(t.formData,"password",n.slice(0,c).concat(n.slice(c+1)))}else t.$set(t.formData,"password",o)}}}):"radio"===t.passwordType?e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],staticClass:"input",attrs:{placeholder:t.$t("enter_en_number",{number:"6"}),autocomplete:"off",type:"radio"},domProps:{checked:t._q(t.formData.password,null)},on:{change:function(e){return t.$set(t.formData,"password",null)}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],staticClass:"input",attrs:{placeholder:t.$t("enter_en_number",{number:"6"}),autocomplete:"off",type:t.passwordType},domProps:{value:t.formData.password},on:{input:function(e){e.target.composing||t.$set(t.formData,"password",e.target.value)}}}),t._v(" "),e("CommonPasswordIcon",{attrs:{"pwd-type":t.passwordType},on:{"update:pwdType":function(e){t.passwordType=e},"update:pwd-type":function(e){t.passwordType=e}}})],1),t._v(" "),e("div",{staticClass:"login-main"},[e("div",{staticClass:"title flex-center",staticStyle:{"justify-content":"flex-start"}},[t._v("\n          "+t._s(t.$t("captcha"))+"：\n          "),t.captchaImg?e("img",{staticStyle:{width:"80px"},attrs:{src:"data:image/(png|jpg);base64,".concat(t.captchaImg),alt:"captchaImg"}}):e("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticStyle:{width:"80px",height:"35px"},attrs:{"element-loading-background":"rgba(0, 0, 0, 0.5)"}}),t._v(" "),e("i",{staticClass:"el-icon-refresh-right captcha-refresh",on:{click:t.init}})]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.captchaCode,expression:"formData.captchaCode"}],staticClass:"input",attrs:{type:"text",placeholder:t.$t("please_enter_captcha")},domProps:{value:t.formData.captchaCode},on:{input:function(e){e.target.composing||t.$set(t.formData,"captchaCode",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"login-main flex-center"},[e("span",{staticClass:"text-link",on:{click:function(e){return t.$router.push({name:"lang-reset-password",params:{lang:t.$route.params.lang}})}}},[t._v("\n          "+t._s(t.$t("forget_password"))+" "+t._s(t.$t("reset_password"))+"\n        ")])]),t._v(" "),e("a",{staticClass:"fdb-btn-primary-hover login-main-btn",on:{click:function(e){return e.preventDefault(),t.doLogin(!1)}}},[t._v(t._s(t.$t("login")))]),t._v(" "),e("div",{staticClass:"flex-center",staticStyle:{"margin-top":"20px"}},[e("GoogleBtn",{attrs:{config:{text:"signin_with"}},on:{success:function(e){return t.doLogin(!0,e)}}})],1),t._v(" "),e("div",{staticClass:"login-main-tips"},[t._v("\n        "+t._s(t.$t("havent_created_account"))+"？\n        "),e("span",{staticClass:"text-link",on:{click:function(e){return t.$router.push({name:"lang-register",params:{lang:t.$route.params.lang}})}}},[t._v("\n          "+t._s(t.$t("register"))+"\n        ")])])])]),t._v(" "),e("div",{staticClass:"login-kv-block"}),t._v(" "),e("el-dialog",{attrs:{title:t.$t("login_fail"),visible:t.validateEmail.show,width:"310px","show-close":!1,"custom-class":"fbd-dialog"},on:{"update:visible":function(e){return t.$set(t.validateEmail,"show",e)}}},[t.validateEmail.hasSent?e("div",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.$t("certification_letter_resent")))]):e("div",[e("div",{staticStyle:{"margin-bottom":"12px",color:"#eb4664","text-align":"center"}},[t._v(t._s(t.$t("unconfirmed_account")))]),t._v(" "),e("div",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.$t("please_check_your_email_receive")))])]),t._v(" "),e("span",{attrs:{slot:"footer"},slot:"footer"},[t.validateEmail.hasSent?e("div",{staticClass:"fdb-btn-default",on:{click:function(e){t.validateEmail.show=!1}}},[t._v(t._s(t.$t("close")))]):[e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.validateEmail.loading,expression:"validateEmail.loading"}],staticClass:"fdb-btn-primary",staticStyle:{padding:"0 12px","margin-right":"8px"},attrs:{"element-loading-background":"rgba(0, 0, 0, 0.5)"},on:{click:t.reSentEmail}},[t._v("\n          "+t._s(t.$t("re_send_certification_letter"))+"\n        ")]),t._v(" "),e("div",{staticClass:"fdb-btn-default",staticStyle:{padding:"0 12px"},on:{click:function(e){t.validateEmail.show=!1}}},[t._v(t._s(t.$t("cancel")))])]],2)])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CommonPasswordIcon:n(801).default,GoogleBtn:n(821).default})}}]);