(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ce95d72"],{"10c9":function(t,e,a){},"1d89":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{position:"relative",float:"left"}},["password"===t.pt?s("img",{staticStyle:{position:"absolute",right:"12px",top:"13px",width:"auto",height:"7px",padding:"3px 0"},attrs:{src:a("54e1"),alt:"colse-eye"},on:{click:t.togglePwd}}):t._e(),"text"===t.pt?s("i",{staticClass:"el-icon-view",staticStyle:{position:"absolute",right:"12px",top:"13px"},on:{click:t.togglePwd}}):t._e()])},r=[],i={name:"PasswordIcon",props:{pwdType:{type:String,default:"password"}},computed:{pt:{get:function(){return this.pwdType},set:function(t){this.$emit("update:pwdType",t)}}},methods:{togglePwd:function(){this.pt="password"===this.pt?"text":"password"}}},o=i,n=a("2877"),c=Object(n["a"])(o,s,r,!1,null,null,null);e["a"]=c.exports},"54e1":function(t,e,a){t.exports=a.p+"img/close-eye.22e04588.svg"},6270:function(t,e,a){"use strict";a("e3e8")},"66d1":function(t,e,a){"use strict";a("bb17")},"82a5":function(t,e,a){},"847b":function(t,e,a){"use strict";a("10c9")},"8ff3":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-pagination",t._b({staticClass:"fdb-pager",attrs:{"current-page":t.pager.pageIndex,"page-size":t.pager.pageSize,total:t.pager.totalCount},on:{"update:currentPage":function(e){return t.$set(t.pager,"pageIndex",e)},"update:current-page":function(e){return t.$set(t.pager,"pageIndex",e)},"update:pageSize":function(e){return t.$set(t.pager,"pageSize",e)},"update:page-size":function(e){return t.$set(t.pager,"pageSize",e)},"current-change":function(e){return t.pagerEvent(e,"pageChange")}}},"el-pagination",t.customAttr,!1))},r=[],i=a("5530"),o=(a("b0c0"),{name:"Pager",props:{pager:{type:Object,required:!0,default:function(){return console.error('Please set pagination "props: pager" in route.name: '.concat(this.$parent.$route.name)),{pageIndex:1,pageSize:25,totalCount:0}}},getData:{type:Function,required:!0,default:function(){console.error('Please set pagination "props: getData" in route.name: '.concat(this.$parent.$route.name))}}},computed:{customAttr:function(){return Object(i["a"])({small:!1,layout:"prev, pager, next",pagerCount:5},this.$attrs)}},methods:{pagerEvent:function(t,e){"pageChange"===e&&(this.pager.pageIndex=t),this.getData()}}}),n=o,c=(a("95e3"),a("2877")),l=Object(c["a"])(n,s,r,!1,null,"68128b3d",null);e["a"]=l.exports},"95e3":function(t,e,a){"use strict";a("82a5")},b76f:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"outline"},[s("div",{staticClass:"outline banner-block personal"},[s("div",{staticClass:"outblock"},[s("div",{staticClass:"title"},[t._v(" 您的好友邀請碼"+t._s(t.isMobile?"":"：")),t.isMobile?s("br"):t._e(),s("span",{ref:"copy"},[t._v(t._s(t.userInfo.myInviteCore))])]),t._m(0),s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.preventDefault(),t.copyInviteCode.apply(null,arguments)}}},[s("img",{attrs:{src:a("f2ac"),alt:"mi_copy"}})])])]),s("div",{staticClass:"outline"},[s("div",{staticClass:"outblock"},[s("div",{staticClass:"personal-main-block"},[s("div",{staticClass:"block"},[s("div",{staticClass:"personal-main-pic"},[s("img",{staticStyle:{"border-radius":"50%"},attrs:{src:t.userInfo.imageUrl,alt:"personal-pic"}})]),s("div",{staticClass:"personal-main-name"},[t._v(t._s(t.userInfo.name))]),s("div",{staticClass:"personal-main-email"},[t._v(t._s(t.userInfo.email))]),s("a",{staticClass:"personal-main-btn",attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.preventDefault(),t.$router.push({name:"Dashboard"})}}},[t._v("返回返佣數量總覽")])])]),s("div",{staticClass:"personal-function-block"},[s("div",{staticClass:"menu-block"},[s("a",{class:{active:"exchange-control"===t.activedTag},attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.switchTag("exchange-control")}}},[t._v("交易所管理")]),s("a",{class:{active:"take-cash-adress"===t.activedTag},attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.switchTag("take-cash-adress")}}},[t._v(" 出金地址管理 ")]),s("a",{class:{active:"recommend-management"===t.activedTag},attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.switchTag("recommend-management")}}},[t._v(" 推薦人管理 ")]),s("a",{class:{active:"personal-edit"===t.activedTag},attrs:{href:"javascript:vod(0)"},on:{click:function(e){return e.preventDefault(),t.switchTag("personal-edit")}}},[t._v(" 編輯個人檔案 ")])]),s("transition",{attrs:{name:"fade-transform",mode:"out-in"}},["exchange-control"===t.activedTag?s("ExchangeControl"):t._e(),"take-cash-adress"===t.activedTag?s("TakeCashAdress"):t._e(),"recommend-management"===t.activedTag?s("Recommend"):t._e(),"personal-edit"===t.activedTag?s("PersonalEdit"):t._e()],1)],1)])])])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{attrs:{href:"javascript:void(0)"}},[s("img",{attrs:{src:a("f8ad"),alt:"bx_bx-link"}})])}],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isBindLoading,expression:"isBindLoading"}],staticClass:"personal-function-main exchange-site",attrs:{"element-loading-background":"rgba(0, 0, 0, 0.5)"}},[a("div",{staticClass:"title"},[t._v("綁定交易所")]),a("div",{staticClass:"sub"},[t._v("為保護帳號安全，交易所綁定後將無法編輯或刪除（*未綁定將無法查看您的返佣資訊）")]),a("div",{staticClass:"exchange-block"},[a("div",{staticClass:"main"},[a("div",[a("div",{staticClass:"title"},[t._v("*選擇交易所")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.csgid,expression:"formData.csgid"}],staticClass:"input",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData,"csgid",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("請選擇交易所")]),t._l(t.csgList,(function(e,s){return a("option",{key:s,domProps:{value:e.csgid}},[t._v(t._s(e.csgName))])}))],2)]),a("div",[a("div",{staticClass:"title"},[t._v("*交易所UID")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.fdB_UID,expression:"formData.fdB_UID"}],staticClass:"input",attrs:{type:"text",placeholder:"請輸入該交易所UID"},domProps:{value:t.formData.fdB_UID},on:{input:function(e){e.target.composing||t.$set(t.formData,"fdB_UID",e.target.value)}}})])]),a("div",{staticClass:"main"},[a("div",[a("div",{staticClass:"title"},[t._v("行動電話")]),a("div",{staticClass:"split-input"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.areaCode,expression:"formData.areaCode"}],staticClass:"input",staticStyle:{width:"80px","margin-right":"8px"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData,"areaCode",e.target.multiple?a:a[0])}}},t._l(t.phoneAreaCode,(function(e,s){return a("option",{key:s,domProps:{value:e.code}},[t._v(t._s(e.code))])})),0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.phone,expression:"formData.phone"}],staticClass:"input",staticStyle:{flex:"1"},attrs:{type:"text",placeholder:"請輸入行動電話",autocomplete:"off"},domProps:{value:t.formData.phone},on:{input:function(e){e.target.composing||t.$set(t.formData,"phone",e.target.value)}}})])]),a("div",[a("div",{staticClass:"title"},[t._v("電子郵件")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.email,expression:"formData.email"}],staticClass:"input",attrs:{type:"text",placeholder:"請輸入該交易所會員郵件"},domProps:{value:t.formData.email},on:{input:function(e){e.target.composing||t.$set(t.formData,"email",e.target.value)}}})])])]),a("div",{staticClass:"btns-block personal"},[a("a",{staticClass:"cancel",attrs:{href:"javascript:void(0)"},on:{click:t.resetForm}},[t._v("清空")]),a("a",{staticClass:"next",attrs:{href:"javascript:void(0)"},on:{click:t.validate}},[t._v("綁定")])]),a("div",{staticClass:"personal-function-line"}),a("div",{staticClass:"personal-function-tips"},[t._v("交易所驗證時間需1-3日工作天，無論驗證成功與否都將由系統寄出“驗證通知書”郵件通知會員")]),t._l(t.bindList,(function(e,s){return a("div",{key:s,staticClass:"personal-function-exchange-block"},[a("div",{staticClass:"title"},[t._v(t._s(s+1))]),a("div",[t.csgMap[e.csgid]?a("img",{staticStyle:{width:"60px"},attrs:{src:t.csgMap[e.csgid].imageUrl,alt:"bind-store-img"}}):a("span",[t._v("無效圖檔")])]),a("div",{class:"status "+["red","green"][e.status]},[t._v(t._s(["驗證中","驗證完畢"][e.status]))])])})),a("el-dialog",{attrs:{title:"再次確認交易所綁定資訊",visible:t.checkDialog.show,width:"500px","show-close":!1,"custom-class":"fbd-dialog exchange-site-dialog"},on:{"update:visible":function(e){return t.$set(t.checkDialog,"show",e)}}},[a("div",{staticClass:"check-tip"},[t._v("為保障各位交易安全，交易所若綁定三次都失敗，將會鎖定該交易所綁定之權限，因此請確定資料正確性")]),a("div",{staticClass:"check-content"},[a("div",{staticClass:"check-content-item"},[a("div",{staticClass:"title"},[t._v("綁定交易所")]),a("div",{staticClass:"value"},[t._v(t._s(t.csgMap[t.formData.csgid]&&t.csgMap[t.formData.csgid].csgName))])]),a("div",{staticClass:"check-content-item"},[a("div",{staticClass:"title"},[t._v("交易所UID")]),a("div",{staticClass:"value"},[t._v(t._s(t.formData.fdB_UID))])]),a("div",{staticClass:"check-content-item"},[a("div",{staticClass:"title"},[t._v("行動電話")]),a("div",{staticClass:"value"},[t._v(t._s(t.formData.areaCode)+" "+t._s(t.formData.phone))])]),a("div",{staticClass:"check-content-item"},[a("div",{staticClass:"title"},[t._v("電子郵件")]),a("div",{staticClass:"value"},[t._v(t._s(t.formData.email))])])]),a("span",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],attrs:{slot:"footer","element-loading-background":"rgba(0, 0, 0, 0.5)"},slot:"footer"},[a("div",{staticClass:"fdb-btn-default",staticStyle:{"margin-right":"12px"},on:{click:function(e){t.checkDialog.show=!1}}},[t._v("返回")]),a("div",{staticClass:"fdb-btn-primary",on:{click:t.bindCSG}},[t._v("綁定")])])])],2)},o=[],n=a("1da1"),c=(a("96cf"),a("1602")),l=a("09cb"),d={name:"ExchangeControl",data:function(){return{phoneAreaCode:l["c"],isLoading:!1,isBindLoading:!1,formData:{csgid:"",areaCode:"886",phone:"",fdB_UID:"",email:""},checkDialog:{show:!1}}},computed:{csgList:function(){return this.$store.state.app.csgList},csgMap:function(){return this.$store.state.app.csgMap},bindList:function(){return this.$store.state.user.bindStores}},mounted:function(){this.getBindStores()},methods:{resetForm:function(){this.formData={csgid:"",areaCode:"886",phone:"",fdB_UID:"",email:""}},validate:function(){return this.formData.csgid?this.formData.phone&&!/^\d+$/.test(this.formData.phone)?this.$message.error("行動電話：僅限數字不含特殊符號"):this.formData.email&&!/\S+@\S+.\S+/.test(this.formData.email)?this.$message.error("電子郵件：格式錯誤"):void(this.checkDialog.show=!0):this.$message.error("請選擇交易所")},bindCSG:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,a={csgid:t.formData.csgid,areaCode:t.formData.areaCode,phone:t.formData.phone,fdB_UID:t.formData.fdB_UID,email:t.formData.email},e.next=5,Object(c["a"])(a);case 5:t.checkDialog.show=!1,t.resetForm(),t.getBindStores(),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](1),e.t0.isHttpError&&t.$message.error((null===(s=e.t0.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.resultMsg)||"綁定失敗"),console.error(e.t0);case 14:t.isLoading=!1;case 15:case"end":return e.stop()}}),e,null,[[1,10]])})))()},getBindStores:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isBindLoading=!0,e.prev=1,e.next=4,t.$store.dispatch("user/getBindStores");case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),console.error(e.t0);case 9:t.isBindLoading=!1;case 10:case"end":return e.stop()}}),e,null,[[1,6]])})))()}}},u=d,m=(a("66d1"),a("2877")),p=Object(m["a"])(u,i,o,!1,null,null,null),v=p.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticStyle:{float:"left"},attrs:{"element-loading-background":"rgba(0, 0, 0, 0.5)"}},[a("div",{staticClass:"personal-function-main"},[a("div",{staticClass:"title adress"},[t._v("為保障用戶權益和出金安全，修正出金地址須透過email驗證，變動地址需待一周後再次進行")]),a("div",{staticClass:"personal-take-cash-adress-main"},[a("CoinIcon",{staticClass:"icon",attrs:{"coin-type":"BTC"}}),a("div",{staticClass:"title"},[t._v("BTC")]),t.isEdit?a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.BTC,expression:"formData.BTC"}],staticClass:"main",attrs:{type:"text",placeholder:"請填入 BTC 交易地址"},domProps:{value:t.formData.BTC},on:{input:function(e){e.target.composing||t.$set(t.formData,"BTC",e.target.value)}}}):a("div",{staticClass:"main"},[t._v(t._s(t.formData.BTC||"未綁定"))])],1),a("div",{staticClass:"personal-take-cash-adress-main"},[a("CoinIcon",{staticClass:"icon",attrs:{"coin-type":"XRP"}}),a("div",{staticClass:"title"},[t._v("XRP")]),t.isEdit?a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.XRP,expression:"formData.XRP"}],staticClass:"main",attrs:{type:"text",placeholder:"請填入 XRP 交易地址"},domProps:{value:t.formData.XRP},on:{input:function(e){e.target.composing||t.$set(t.formData,"XRP",e.target.value)}}}):a("div",{staticClass:"main"},[t._v(t._s(t.formData.XRP||"未綁定"))])],1),a("div",{staticClass:"personal-take-cash-adress-main"},[a("CoinIcon",{staticClass:"icon",attrs:{"coin-type":"USDT"}}),a("div",{staticClass:"title"},[t._v("USDT")]),t.isEdit?a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.USDT,expression:"formData.USDT"}],staticClass:"main",attrs:{type:"text",placeholder:"請填入 USDT 交易地址"},domProps:{value:t.formData.USDT},on:{input:function(e){e.target.composing||t.$set(t.formData,"USDT",e.target.value)}}}):a("div",{staticClass:"main"},[t._v(t._s(t.formData.USDT||"未綁定"))])],1),a("div",{staticClass:"personal-take-cash-adress-main"},[a("CoinIcon",{staticClass:"icon",attrs:{"coin-type":"EOS"}}),a("div",{staticClass:"title"},[t._v("EOS")]),t.isEdit?a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.EOS,expression:"formData.EOS"}],staticClass:"main",attrs:{type:"text",placeholder:"請填入 EOS 交易地址"},domProps:{value:t.formData.EOS},on:{input:function(e){e.target.composing||t.$set(t.formData,"EOS",e.target.value)}}}):a("div",{staticClass:"main"},[t._v(t._s(t.formData.EOS||"未綁定"))])],1),a("div",{staticClass:"personal-take-cash-adress-main"},[a("CoinIcon",{staticClass:"icon",attrs:{"coin-type":"ETH"}}),a("div",{staticClass:"title"},[t._v("ETH")]),t.isEdit?a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.ETH,expression:"formData.ETH"}],staticClass:"main",attrs:{type:"text",placeholder:"請填入 ETH 交易地址"},domProps:{value:t.formData.ETH},on:{input:function(e){e.target.composing||t.$set(t.formData,"ETH",e.target.value)}}}):a("div",{staticClass:"main"},[t._v(t._s(t.formData.ETH||"未綁定"))])],1)]),a("div",{staticClass:"btns-block personal-info"},[t.isEdit?t._e():a("a",{staticClass:"next",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.isEdit=!0}}},[t._v("編輯地址")]),t.isEdit?a("a",{staticClass:"cancel",attrs:{href:"javascript:void(0)"},on:{click:t.cancelEdit}},[t._v("取消")]):t._e(),t.isEdit?a("a",{staticClass:"next",attrs:{href:"javascript:void(0)"},on:{click:t.saveAdress}},[t._v("儲存並驗證")]):t._e()]),a("el-dialog",{attrs:{title:"請至返多寶會員郵箱驗證",visible:t.checkDialog.show,width:"360px","show-close":!1,"custom-class":"fbd-dialog adress-site-dialog",top:"30vh"},on:{"update:visible":function(e){return t.$set(t.checkDialog,"show",e)}}},[a("div",{staticClass:"check-tip"},[t._v("請於10分鐘內輸入驗證碼，未如驗證將無法更新此次提交")]),a("div",{staticClass:"check-content"},[a("div",{staticClass:"title"},[t._v("驗證碼")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.authCore,expression:"authCore"}],staticClass:"input",attrs:{type:"text",placeholder:"輸入驗證碼"},domProps:{value:t.authCore},on:{input:function(e){e.target.composing||(t.authCore=e.target.value)}}})]),a("span",{directives:[{name:"loading",rawName:"v-loading",value:t.isValidLoading,expression:"isValidLoading"}],attrs:{slot:"footer","element-loading-background":"rgba(0, 0, 0, 0.5)"},slot:"footer"},[a("div",{staticClass:"fdb-btn-default",staticStyle:{"margin-right":"12px"},on:{click:function(e){t.checkDialog.show=!1}}},[t._v("取消")]),a("div",{staticClass:"fdb-btn-primary",on:{click:t.validAdress}},[t._v("確認")])])])],1)},g=[],h=a("b85c"),w=(a("b64b"),a("9ab2")),C={name:"TakeCashAdress",components:{CoinIcon:w["a"]},data:function(){return{isLoading:!1,isEdit:!1,formData:{BTC:"",XRP:"",USDT:"",EOS:"",ETH:""},checkDialog:{show:!1},isValidLoading:!1,authCore:""}},mounted:function(){this.getAllWithdrawalAddress()},methods:{getAllWithdrawalAddress:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s,r,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,Object(c["b"])();case 4:a=e.sent,s=Object(h["a"])(a.data);try{for(s.s();!(r=s.n()).done;)i=r.value,o=l["b"][i.cid],t.formData[o]=i.coinAddress}catch(n){s.e(n)}finally{s.f()}e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.error(e.t0);case 12:t.isLoading=!1;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()},cancelEdit:function(){this.isEdit=!1,this.getAllWithdrawalAddress()},saveAdress:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s,r,i,o,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t.isLoading=!0,e.prev=1,t.validateForm(),a=[],s=0,r=Object.keys(t.formData);s<r.length;s++)i=r[s],a.push({cid:l["a"][i],address:t.formData[i]});return e.next=7,Object(c["m"])(a);case 7:t.authCore="",t.checkDialog.show=!0,e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](1),e.t0.isHttpError?t.$message.error((null===(o=e.t0.response)||void 0===o||null===(n=o.data)||void 0===n?void 0:n.resultMsg)||"連線失敗"):t.$message.error(e.t0.message),console.error(e.t0);case 15:t.isLoading=!1;case 16:case"end":return e.stop()}}),e,null,[[1,11]])})))()},validateForm:function(){if(this.formData.BTC&&!/^[13](?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{25,36}$/.test(this.formData.BTC))throw new Error("BTC : 數字1＆3 開頭，26至37位區間英文大小寫+數字組成");if(this.formData.XRP&&!/^r.+/.test(this.formData.XRP))throw new Error("XRP : r開頭");if(this.formData.USDT&&!/^[013].+$/.test(this.formData.USDT))throw new Error("USDT : 數字1＆3 & 0 開頭");if(this.formData.EOS&&!/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{12}$/.test(this.formData.EOS))throw new Error("EOS : 12個字符英文大小寫+數字組成");if(this.formData.ETH&&!/^[0](?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{41}$/.test(this.formData.ETH))throw new Error("ETH : 數字0 開頭，42位英文大小寫+數字組成");return"success"},validAdress:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isValidLoading=!0,e.prev=1,e.next=4,Object(c["l"])({authCore:t.authCore});case 4:t.$message.success("綁定成功"),t.checkDialog.show=!1,t.cancelEdit(),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](1),e.t0.isHttpError&&t.$message.error((null===(a=e.t0.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.resultMsg)||"驗證失敗"),console.log(e.t0);case 13:t.isValidLoading=!1;case 14:case"end":return e.stop()}}),e,null,[[1,9]])})))()}}},D=C,b=(a("847b"),Object(m["a"])(D,f,g,!1,null,"7a5969e8",null)),_=b.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"recommend",attrs:{"element-loading-background":"rgba(0, 0, 0, 0.5)"}},[a("div",{staticClass:"recommend-body"},[a("div",{staticClass:"controller"},[a("div",{staticClass:"controller-store"},[a("div",{staticClass:"label"},[t._v("選擇交易所：")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.storeSelect,expression:"storeSelect"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.storeSelect=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"bybit"}},[t._v("bybit")])])]),t._m(0)]),a("div",{staticClass:"list"},[a("table",{staticClass:"list-table",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t._m(1),a("tbody",[t._l(t.tableData,(function(e,s){return[a("tr",{key:"tr-1-"+s},[t._m(2,!0),a("td",[t._v(t._s(e.name))]),a("td",[t._v("聯絡資訊")]),a("td",[t._v("交易幣別")]),a("td",[a("span",{staticClass:"text-link",staticStyle:{"font-family":"'Avenir'"},on:{click:function(t){e.showInfo=!e.showInfo}}},[t._v("檢視資訊")])]),a("td",[t._v("高中同學")]),a("td",[t._v("2021-02-02 14:00")]),a("td",[t._v("2021-02-02 14:00")])]),e.showInfo?a("tr",{key:"tr-2-"+s,staticClass:"detail"},[t._m(3,!0)]):t._e()]}))],2)])])]),a("div",{staticClass:"pager"},[a("Pager",{attrs:{"get-data":t.getRecommend,pager:t.pager}})],1)])},x=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"controller-btns"},[a("div",{staticClass:"fdb-btn-info btn",staticStyle:{"margin-right":"8px"}},[t._v("編輯組別")]),a("div",{staticClass:"fdb-btn-primary btn"},[t._v("管理組別")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[a("input",{staticClass:"check",attrs:{type:"checkbox"}})]),a("th",[t._v("會員名稱")]),a("th",[t._v("聯絡資訊")]),a("th",[t._v("交易幣別")]),a("th",[t._v("反佣交易量")]),a("th",[t._v("所在組別")]),a("th",[t._v("加入日期")]),a("th",[t._v("最後交易日")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("input",{staticClass:"check",attrs:{type:"checkbox"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{attrs:{colspan:"8"}},[a("div",{staticClass:"detail-content"},[t._v(" regmagmrealgmrealkgmelkgmrke這邊是內容"),a("br"),t._v(" regmagmrealgmrealkgmelkgmrke這邊是內容"),a("br"),t._v(" regmagmrealgmrealkgmelkgmrke這邊是內容"),a("br"),t._v(" regmagmrealgmrealkgmelkgmrke這邊是內容 ")])])}],y=a("8ff3"),P=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",[{name:"kerry",rgid:0,showInfo:!1},{name:"mark",rgid:2,showInfo:!1},{name:"cat",rgid:1,showInfo:!1},{name:"dog",rgid:0,showInfo:!1},{name:"rrrr",rgid:2,showInfo:!1}]);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E={name:"Recommend",components:{Pager:y["a"]},data:function(){return{isLoading:!1,storeSelect:"bybit",tableData:[],pager:{pageIndex:1,pageSize:10,totalCount:57,sortKey:"txDate",order:"asc"}}},created:function(){this.getRecommend()},methods:{getRecommend:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,P();case 4:a=e.sent,t.tableData=a,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.error(e.t0);case 11:t.isLoading=!1;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()}}},$=E,T=(a("6270"),Object(m["a"])($,k,x,!1,null,"1a364c77",null)),S=T.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticStyle:{float:"left"},attrs:{"element-loading-background":"rgba(0, 0, 0, 0.5)"}},[a("div",{staticClass:"personal-function-main"},[a("div",{staticClass:"title"},[t._v("基本個人資料")]),a("div",{staticClass:"sub"},[t._v("為保障各位資訊安全，僅限欄位可以修改")]),a("div",{staticClass:"personal-edit-info-block"},[a("div",{staticClass:"pic-block"},[a("img",{staticStyle:{"border-radius":"50%"},attrs:{src:t.formData.imageUrl,alt:"personal-pic"}}),t.isEdit?a("a",{staticClass:"btn",attrs:{href:"javascript:void(0)"},on:{click:t.changeImage}},[t._v("更改個人圖像")]):t._e(),a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"upload",attrs:{type:"file"}})]),a("div",{staticClass:"info-input-block"},[a("div",{staticClass:"main"},[a("div",{staticClass:"title"},[t._v("使用者名稱")]),t.isEdit?a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.name,expression:"formData.name"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.formData.name},on:{input:function(e){e.target.composing||t.$set(t.formData,"name",e.target.value)}}}):a("div",{staticClass:"info"},[t._v(t._s(t.formData.name))])]),a("div",{staticClass:"main"},[a("div",{staticClass:"title"},[t._v("使用者信箱")]),a("div",{staticClass:"info"},[t._v(t._s(t.formData.email))])]),a("div",{staticClass:"main"},[a("div",{staticClass:"title"},[t._v("行動電話")]),t.isEdit?a("div",{staticClass:"split-input"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.areaCode,expression:"formData.areaCode"}],staticClass:"input",staticStyle:{width:"80px","margin-right":"8px"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData,"areaCode",e.target.multiple?a:a[0])}}},t._l(t.phoneAreaCode,(function(e,s){return a("option",{key:s,domProps:{value:e.code}},[t._v(t._s(e.code))])})),0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.phone,expression:"formData.phone"}],staticClass:"input",staticStyle:{flex:"1"},attrs:{type:"text",placeholder:"請輸入行動電話",autocomplete:"off"},domProps:{value:t.formData.phone},on:{input:function(e){e.target.composing||t.$set(t.formData,"phone",e.target.value)}}})]):a("div",{staticClass:"info"},[t._v(t._s(t.formData.areaCode)+" "+t._s(t.formData.phone))])]),t.isEdit?a("div",{staticClass:"main"},[a("div",{staticClass:"title"},[t._v("原密碼")]),"checkbox"===t.passwordType?a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],staticClass:"input",attrs:{autocomplete:"off",type:"checkbox"},domProps:{checked:Array.isArray(t.formData.password)?t._i(t.formData.password,null)>-1:t.formData.password},on:{change:function(e){var a=t.formData.password,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);s.checked?o<0&&t.$set(t.formData,"password",a.concat([i])):o>-1&&t.$set(t.formData,"password",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.formData,"password",r)}}}):"radio"===t.passwordType?a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],staticClass:"input",attrs:{autocomplete:"off",type:"radio"},domProps:{checked:t._q(t.formData.password,null)},on:{change:function(e){return t.$set(t.formData,"password",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],staticClass:"input",attrs:{autocomplete:"off",type:t.passwordType},domProps:{value:t.formData.password},on:{input:function(e){e.target.composing||t.$set(t.formData,"password",e.target.value)}}}),a("PasswordIcon",{attrs:{"pwd-type":t.passwordType},on:{"update:pwdType":function(e){t.passwordType=e},"update:pwd-type":function(e){t.passwordType=e}}})],1):t._e(),t.isEdit?a("div",{staticClass:"main"},[a("div",{staticClass:"title"},[t._v("新密碼")]),"checkbox"===t.newPasswordType?a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.newPassword,expression:"formData.newPassword"}],staticClass:"input",attrs:{autocomplete:"off",type:"checkbox"},domProps:{checked:Array.isArray(t.formData.newPassword)?t._i(t.formData.newPassword,null)>-1:t.formData.newPassword},on:{change:function(e){var a=t.formData.newPassword,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);s.checked?o<0&&t.$set(t.formData,"newPassword",a.concat([i])):o>-1&&t.$set(t.formData,"newPassword",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.formData,"newPassword",r)}}}):"radio"===t.newPasswordType?a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.newPassword,expression:"formData.newPassword"}],staticClass:"input",attrs:{autocomplete:"off",type:"radio"},domProps:{checked:t._q(t.formData.newPassword,null)},on:{change:function(e){return t.$set(t.formData,"newPassword",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.newPassword,expression:"formData.newPassword"}],staticClass:"input",attrs:{autocomplete:"off",type:t.newPasswordType},domProps:{value:t.formData.newPassword},on:{input:function(e){e.target.composing||t.$set(t.formData,"newPassword",e.target.value)}}}),a("PasswordIcon",{attrs:{"pwd-type":t.newPasswordType},on:{"update:pwdType":function(e){t.newPasswordType=e},"update:pwd-type":function(e){t.newPasswordType=e}}})],1):t._e(),t.isEdit?a("div",{staticClass:"main"},[a("div",{staticClass:"title"},[t._v("再次確認")]),"checkbox"===t.doubleCheckType?a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.doubleCheck,expression:"formData.doubleCheck"}],staticClass:"input",attrs:{autocomplete:"off",type:"checkbox"},domProps:{checked:Array.isArray(t.formData.doubleCheck)?t._i(t.formData.doubleCheck,null)>-1:t.formData.doubleCheck},on:{change:function(e){var a=t.formData.doubleCheck,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);s.checked?o<0&&t.$set(t.formData,"doubleCheck",a.concat([i])):o>-1&&t.$set(t.formData,"doubleCheck",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.formData,"doubleCheck",r)}}}):"radio"===t.doubleCheckType?a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.doubleCheck,expression:"formData.doubleCheck"}],staticClass:"input",attrs:{autocomplete:"off",type:"radio"},domProps:{checked:t._q(t.formData.doubleCheck,null)},on:{change:function(e){return t.$set(t.formData,"doubleCheck",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.doubleCheck,expression:"formData.doubleCheck"}],staticClass:"input",attrs:{autocomplete:"off",type:t.doubleCheckType},domProps:{value:t.formData.doubleCheck},on:{input:function(e){e.target.composing||t.$set(t.formData,"doubleCheck",e.target.value)}}}),a("PasswordIcon",{attrs:{"pwd-type":t.doubleCheckType},on:{"update:pwdType":function(e){t.doubleCheckType=e},"update:pwd-type":function(e){t.doubleCheckType=e}}})],1):t._e()])])]),a("div",{staticClass:"btns-block personal-info"},[t.isEdit?t._e():a("a",{staticClass:"next",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.isEdit=!0}}},[t._v("編輯內容")]),t.isEdit?a("a",{staticClass:"cancel",attrs:{href:"javascript:void(0)"},on:{click:t.cancelEdit}},[t._v("取消")]):t._e(),t.isEdit?a("a",{staticClass:"next",attrs:{href:"javascript:void(0)"},on:{click:t.saveUserData}},[t._v("儲存")]):t._e()])])},A=[],j=(a("b0c0"),a("d3b7"),a("ac1f"),a("5319"),a("1d89")),R=a("b775"),L=function(t){return Object(R["a"])({url:"/api/Common/UploadFile",method:"POST",data:t})},O={name:"PersonalEdit",components:{PasswordIcon:j["a"]},data:function(){return{phoneAreaCode:l["c"],isLoading:!1,isEdit:!1,formData:{name:"",email:"",imageUrl:"",areaCode:"",phone:"",password:"",newPassword:"",doubleCheck:""},passwordType:"password",newPasswordType:"password",doubleCheckType:"password"}},computed:{userInfo:function(){return this.$store.state.user.userInfo}},mounted:function(){this.init(),this.$refs.upload.addEventListener("change",this.handleFiles,!1)},beforeDestroy:function(){this.$refs.upload.removeEventListener("change",this.handleFiles)},methods:{init:function(){this.formData.name=this.userInfo.name,this.formData.email=this.userInfo.email,this.formData.imageUrl=this.userInfo.imageUrl,this.formData.areaCode=this.userInfo.areaCode,this.formData.phone=this.userInfo.phone,this.formData.password="",this.formData.newPassword="",this.formData.doubleCheck=""},changeImage:function(){this.$refs.upload.click()},handleFiles:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,a=new FormData,a.append("file",t.$refs.upload.files[0]),e.next=6,L(a);case 6:s=e.sent,t.formData.imageUrl=s.data,t.$refs.upload.value=null,e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](1),t.$message.error("圖片上傳失敗"),console.error(e.t0);case 15:t.isLoading=!1;case 16:case"end":return e.stop()}}),e,null,[[1,11]])})))()},saveUserData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,t.validate();case 4:return a={name:t.formData.name,areaCode:t.formData.areaCode,phone:t.formData.phone,password:t.formData.password,newPassword:t.formData.newPassword,imageUrl:t.formData.imageUrl},e.next=7,Object(c["k"])(a);case 7:t.$message.success("個人資料更新成功"),t.$store.dispatch("user/getUserInfo"),t.isEdit=!1,e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](1),e.t0.isHttpError?t.$message.error((null===(s=e.t0.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.resultMsg)||"更新失敗"):t.$message.error(e.t0.message),console.error(e.t0);case 16:t.isLoading=!1;case 17:case"end":return e.stop()}}),e,null,[[1,12]])})))()},validate:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(/^\d+$/.test(t.formData.phone)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("行動電話：僅限數字不含特殊符號")));case 2:if(!(t.formData.password||t.formData.newPassword||t.formData.doubleCheck)){e.next=9;break}if(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/.test(t.formData.password)){e.next=5;break}return e.abrupt("return",Promise.reject(new Error("密碼：6位數以上，含英數字，不含特殊符號")));case 5:if(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/.test(t.formData.newPassword)){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("密碼：6位數以上，含英數字，不含特殊符號")));case 7:if(t.formData.newPassword===t.formData.doubleCheck){e.next=9;break}return e.abrupt("return",Promise.reject(new Error("確認密碼：密碼要與新密碼一致")));case 9:return e.abrupt("return","done");case 10:case"end":return e.stop()}}),e)})))()},formatPassword:function(t){return t.replace(/./g,"*")},cancelEdit:function(){this.init(),this.isEdit=!1}}},U=O,N=(a("c2d3"),Object(m["a"])(U,I,A,!1,null,"170f029c",null)),B=N.exports,z={name:"Personal",components:{ExchangeControl:v,TakeCashAdress:_,Recommend:S,PersonalEdit:B},data:function(){return{activedTag:"recommend-management"}},computed:{userInfo:function(){return this.$store.state.user.userInfo},deviceWidth:function(){return this.$store.state.app.deviceWidth},isMobile:function(){return this.deviceWidth<701}},methods:{switchTag:function(t){this.activedTag=t},copyInviteCode:function(){var t=window.getSelection(),e=document.createRange();e.selectNodeContents(this.$refs.copy),t.removeAllRanges(),t.addRange(e),document.execCommand("copy"),t.removeAllRanges(),this.$message.success("複製成功")}}},H=z,M=Object(m["a"])(H,s,r,!1,null,null,null);e["default"]=M.exports},bb17:function(t,e,a){t.exports={menuText:"#bfcbd9",menuActiveText:"#62d4d6",subMenuActiveText:"#f4f4f5",menuBg:"#304156",menuHover:"#263445",subMenuBg:"#1f2d3d",subMenuHover:"#001528",sideBarWidth:"210px"}},c2d3:function(t,e,a){"use strict";a("eadb")},e3e8:function(t,e,a){},eadb:function(t,e,a){},f2ac:function(t,e,a){t.exports=a.p+"img/mi_copy.a8845aa7.png"},f8ad:function(t,e,a){t.exports=a.p+"img/bx_bx-link.24933ec2.png"}}]);