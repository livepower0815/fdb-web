(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c6d5aa82"],{"1d89":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{position:"relative",float:"left"}},["password"===t.pt?r("img",{staticStyle:{position:"absolute",right:"12px",top:"13px",width:"auto",height:"7px",padding:"3px 0"},attrs:{src:a("54e1"),alt:"colse-eye"},on:{click:t.togglePwd}}):t._e(),"text"===t.pt?r("i",{staticClass:"el-icon-view",staticStyle:{position:"absolute",right:"12px",top:"13px"},on:{click:t.togglePwd}}):t._e()])},s=[],o={name:"PasswordIcon",props:{pwdType:{type:String,default:"password"}},computed:{pt:{get:function(){return this.pwdType},set:function(t){this.$emit("update:pwdType",t)}}},methods:{togglePwd:function(){this.pt="password"===this.pt?"text":"password"}}},i=o,n=a("2877"),c=Object(n["a"])(i,r,s,!1,null,null,null);e["a"]=c.exports},"38cd":function(t,e,a){"use strict";a("c255")},"54e1":function(t,e,a){t.exports=a.p+"img/close-eye.22e04588.svg"},"99af":function(t,e,a){"use strict";var r=a("23e7"),s=a("d039"),o=a("e8b5"),i=a("861d"),n=a("7b0b"),c=a("50c4"),l=a("8418"),d=a("65f0"),p=a("1dde"),u=a("b622"),m=a("2d00"),v=u("isConcatSpreadable"),f=9007199254740991,g="Maximum allowed index exceeded",w=m>=51||!s((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),h=p("concat"),_=function(t){if(!i(t))return!1;var e=t[v];return void 0!==e?!!e:o(t)},b=!w||!h;r({target:"Array",proto:!0,forced:b},{concat:function(t){var e,a,r,s,o,i=n(this),p=d(i,0),u=0;for(e=-1,r=arguments.length;e<r;e++)if(o=-1===e?i:arguments[e],_(o)){if(s=c(o.length),u+s>f)throw TypeError(g);for(a=0;a<s;a++,u++)a in o&&l(p,u,o[a])}else{if(u>=f)throw TypeError(g);l(p,u++,o)}return p.length=u,p}})},c255:function(t,e,a){},ede4:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"login-bg"},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"login-main-block",attrs:{"element-loading-background":"rgba(0, 0, 0, 0.5)"}},[r("div",{staticClass:"main"},[r("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"text",name:"username"}}),r("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"password",name:"password"}}),r("div",{staticClass:"m-logo"},[r("router-link",{attrs:{to:"/"}},[r("img",{staticClass:"m-logo-img",attrs:{src:a("e36b"),alt:"m-logo-img"}})])],1),r("div",{staticClass:"title"},[t._v(t._s(t.$t("member_login")))]),r("div",{staticClass:"login-main"},[r("div",{staticClass:"title"},[t._v(t._s(t.$t("email")))]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.account,expression:"formData.account"}],staticClass:"input",attrs:{type:"text",placeholder:"example@mail.com",autocomplete:"off"},domProps:{value:t.formData.account},on:{input:function(e){e.target.composing||t.$set(t.formData,"account",e.target.value)}}})]),r("div",{staticClass:"login-main"},[r("div",{staticClass:"title"},[t._v(t._s(t.$t("password")))]),"checkbox"===t.passwordType?r("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],staticClass:"input",attrs:{placeholder:t.$t("enter_en_number",{number:"6"}),autocomplete:"off",type:"checkbox"},domProps:{checked:Array.isArray(t.formData.password)?t._i(t.formData.password,null)>-1:t.formData.password},on:{change:function(e){var a=t.formData.password,r=e.target,s=!!r.checked;if(Array.isArray(a)){var o=null,i=t._i(a,o);r.checked?i<0&&t.$set(t.formData,"password",a.concat([o])):i>-1&&t.$set(t.formData,"password",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.formData,"password",s)}}}):"radio"===t.passwordType?r("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],staticClass:"input",attrs:{placeholder:t.$t("enter_en_number",{number:"6"}),autocomplete:"off",type:"radio"},domProps:{checked:t._q(t.formData.password,null)},on:{change:function(e){return t.$set(t.formData,"password",null)}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],staticClass:"input",attrs:{placeholder:t.$t("enter_en_number",{number:"6"}),autocomplete:"off",type:t.passwordType},domProps:{value:t.formData.password},on:{input:function(e){e.target.composing||t.$set(t.formData,"password",e.target.value)}}}),r("PasswordIcon",{attrs:{"pwd-type":t.passwordType},on:{"update:pwdType":function(e){t.passwordType=e},"update:pwd-type":function(e){t.passwordType=e}}})],1),r("div",{staticClass:"login-main"},[r("div",{staticClass:"title flex-center",staticStyle:{"justify-content":"flex-start"}},[t._v(" "+t._s(t.$t("captcha"))+"： "),t.captchaImg?r("img",{staticStyle:{width:"80px"},attrs:{src:"data:image/(png|jpg);base64,"+t.captchaImg,alt:"captchaImg"}}):r("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticStyle:{height:"35px",width:"80px"},attrs:{"element-loading-background":"rgba(0, 0, 0, 0.5)"}}),r("i",{staticClass:"el-icon-refresh-right captcha-refresh",on:{click:t.init}})]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.captchaCode,expression:"formData.captchaCode"}],staticClass:"input",attrs:{type:"text",placeholder:t.$t("please_enter_captcha")},domProps:{value:t.formData.captchaCode},on:{input:function(e){e.target.composing||t.$set(t.formData,"captchaCode",e.target.value)}}})]),r("div",{staticClass:"login-main flex-center"},[r("span",{staticClass:"text-link",on:{click:function(e){return t.$router.push("/reset-password")}}},[t._v(t._s(t.$t("forget_password"))+" "+t._s(t.$t("reset_password")))])]),r("a",{staticClass:"fdb-btn-primary-hover login-main-btn",attrs:{href:"javascript:void(0)"},on:{click:t.doLogin}},[t._v(t._s(t.$t("login")))]),r("div",{staticClass:"login-main-tips"},[t._v(" "+t._s(t.$t("havent_created_account"))+"？ "),r("span",{staticClass:"text-link",on:{click:function(e){return t.$router.push("/register")}}},[t._v(t._s(t.$t("register")))])])])]),r("div",{staticClass:"login-kv-block"},[r("router-link",{staticClass:"logo",attrs:{to:"/"}},[r("img",{attrs:{src:a("e36b"),alt:"logo"}})])],1),r("el-dialog",{attrs:{title:t.$t("login_fail"),visible:t.validateEmail.show,width:"310px","show-close":!1,"custom-class":"fbd-dialog"},on:{"update:visible":function(e){return t.$set(t.validateEmail,"show",e)}}},[t.validateEmail.hasSent?r("div",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.$t("certification_letter_resent")))]):r("div",[r("div",{staticStyle:{color:"#eb4664","margin-bottom":"12px","text-align":"center"}},[t._v(t._s(t.$t("unconfirmed_account")))]),r("div",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.$t("please_check_your_email_receive")))])]),r("span",{attrs:{slot:"footer"},slot:"footer"},[t.validateEmail.hasSent?r("div",{staticClass:"fdb-btn-default",on:{click:function(e){t.validateEmail.show=!1}}},[t._v(t._s(t.$t("close")))]):[r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.validateEmail.loading,expression:"validateEmail.loading"}],staticClass:"fdb-btn-primary",staticStyle:{padding:"0 12px","margin-right":"8px"},attrs:{"element-loading-background":"rgba(0, 0, 0, 0.5)"},on:{click:t.reSentEmail}},[t._v(" "+t._s(t.$t("re_send_certification_letter"))+" ")]),r("div",{staticClass:"fdb-btn-default",staticStyle:{padding:"0 12px"},on:{click:function(e){t.validateEmail.show=!1}}},[t._v(t._s(t.$t("cancel")))])]],2)])],1)},s=[],o=a("1da1"),i=(a("d3b7"),a("99af"),a("96cf"),a("1602")),n=a("1d89"),c={name:"Login",components:{PasswordIcon:n["a"]},data:function(){return{isLoading:!1,passwordType:"password",formData:{account:"",password:"",captchaCode:"",uuid:""},captchaImg:"",validateEmail:{show:!1,loading:!1,hasSent:!1}}},mounted:function(){this.init()},methods:{init:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.formData.captchaCode="",t.formData.uuid="",t.captchaImg="",e.next=6,Object(i["d"])();case 6:a=e.sent,t.captchaImg=a.img,t.formData.uuid=a.uuid,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},doLogin:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,r,s,o,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,t.validate();case 4:return a={account:t.formData.account,password:t.formData.password,captchaCode:t.formData.captchaCode,uuid:t.formData.uuid},e.next=7,t.$store.dispatch("user/login",a);case 7:r=e.sent,t.$store.commit("user/SET_TOKEN",r.data),t.$message.success(t.$t("login_success")),t.$router.push({name:"Dashboard"},(function(){})),e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](1),e.t0.isHttpError?2===(null===(s=e.t0.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.result)?(t.validateEmail.show=!0,t.validateEmail.hasSent=!1):3===(null===(i=e.t0.response)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.result)&&t.init():t.$message.error(e.t0.message),console.error(e.t0);case 17:t.isLoading=!1;case 18:case"end":return e.stop()}}),e,null,[[1,13]])})))()},validate:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(/\S+@\S+.\S+/.test(t.formData.account)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("".concat(t.$t("email"),"：").concat(t.$t("enter_correct_email")))));case 2:if(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/.test(t.formData.password)){e.next=4;break}return e.abrupt("return",Promise.reject(new Error("".concat(t.$t("password"),"：").concat(t.$t("enter_number_slot",{number:"6"})))));case 4:if(t.formData.captchaCode){e.next=6;break}return e.abrupt("return",Promise.reject(new Error(t.$t("please_enter_captcha"))));case 6:return e.abrupt("return","done");case 7:case"end":return e.stop()}}),e)})))()},reSentEmail:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.validateEmail.loading=!0,e.prev=1,a={email:t.formData.account,password:t.formData.password},e.next=5,Object(i["i"])(a);case 5:t.validateEmail.hasSent=!0,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.error(e.t0);case 11:t.validateEmail.loading=!1;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()}}},l=c,d=(a("38cd"),a("2877")),p=Object(d["a"])(l,r,s,!1,null,"43be6cb0",null);e["default"]=p.exports}}]);