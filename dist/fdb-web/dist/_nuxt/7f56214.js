(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{784:function(t,e,r){"use strict";var n=r(3),l=r(132).find,o=r(256),c="find",d=!0;c in[]&&Array(1).find((function(){d=!1})),n({target:"Array",proto:!0,forced:d},{find:function(t){return l(this,t,arguments.length>1?arguments[1]:void 0)}}),o(c)},831:function(t,e,r){"use strict";r.r(e);r(48);var n=r(4),l=(r(37),r(414),r(784),r(14),r(255)),o=r.n(l),c={name:"CommissionTransaction",props:{filterDateRange:{type:Array,default:function(){return[]}},filterCurrencyType:{type:Number,default:0},loading:{type:Boolean,default:!1}},data:function(){return{queryForm:{changeType:-1},tableData:[],pager:{pageIndex:1,pageSize:10,totalCount:0,sortKey:"txDate",order:"desc"},filterDialog:{show:!1},sortDialog:{show:!1},changeTypeMap:[{name:this.$t("personal"),key:0},{name:this.$t("referrer"),key:1},{name:this.$t("withdrawal"),key:2},{name:this.$t("activity_change"),key:3}]}},computed:{dateRange:{get:function(){return this.filterDateRange},set:function(t){this.$emit("update:filterDateRange",t)}},currencyType:{get:function(){return this.filterCurrencyType},set:function(t){this.$emit("update:filterCurrencyType",t)}},isLoading:{get:function(){return this.loading},set:function(t){this.$emit("update:loading",t)}}},watch:{dateRange:function(){this.getCommissionTransaction(!0)},currencyType:function(){this.getCommissionTransaction(!0)},queryForm:{handler:function(){this.getCommissionTransaction(!0)},deep:!0}},mounted:function(){this.getCommissionTransaction(!0)},methods:{getCommissionTransaction:function(){var t=arguments,e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.length>0&&void 0!==t[0]&&t[0]&&(e.pager.pageIndex=1),e.isLoading=!0,r.prev=3,n={currencyType:e.currencyType,changeType:e.queryForm.changeType,startDate:e.dateRange[0],endDate:e.dateRange[1],pageIndex:e.pager.pageIndex,pageSize:e.pager.pageSize,sortKey:e.pager.sortKey,order:e.pager.order},r.next=7,e.$api.dashboard.getCommissionTransaction(n);case 7:l=r.sent,e.tableData=l.data,e.pager.totalCount=l.totalCount,r.next=15;break;case 12:r.prev=12,r.t0=r.catch(3),console.error(r.t0);case 15:e.isLoading=!1;case 16:case"end":return r.stop()}}),r,null,[[3,12]])})))()},formatDate:function(t){return o()(t).format("YYYY-MM-DD HH:mm")},sortData:function(t){if(this.pager.sortKey===t)if("asc"===this.pager.order)this.pager.order="desc";else this.pager.order="asc";else this.pager.sortKey=t,this.pager.order="asc";this.getCommissionTransaction(!0)},formatChangeType:function(t){var e=this.changeTypeMap.find((function(e){return e.key===t}));return e?e.name:this.$t("undefined")},setNumColor:function(t){return t>0?"text-green":"text-red"}}},d=c,v=r(21),component=Object(v.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"detail-section"},[e("div",{staticClass:"filter-section"},[e("CommonCoinSelector",{model:{value:t.currencyType,callback:function(e){t.currencyType=e},expression:"currencyType"}}),t._v(" "),e("div",{staticClass:"date-picker"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("screening_time"))+"：")]),t._v(" "),e("el-date-picker",{staticClass:"fdb",attrs:{type:"daterange","range-separator":t.$t("to"),"start-placeholder":t.$t("start_time"),"end-placeholder":t.$t("end_time"),size:"mini","value-format":"yyyy-MM-dd",clearable:!1},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1)],1),t._v(" "),e("div",{staticClass:"filter-section-m"},[e("div",{staticClass:"fdb-btn-info btn",on:{click:function(e){t.filterDialog.show=!0}}},[t._v(t._s(t.$t("filter")))]),t._v(" "),e("div",{staticClass:"fdb-btn-info btn",on:{click:function(e){t.sortDialog.show=!0}}},[t._v(t._s(t.$t("sort")))])]),t._v(" "),e("table",{staticClass:"info-table"},[e("thead",[e("tr",[e("th",{on:{click:function(e){return t.sortData("txDate")}}},[e("CommonSort",{attrs:{title:t.$t("trade_date"),sort:"txDate","sort-key":t.pager.sortKey,order:t.pager.order}})],1),t._v(" "),e("th",[t._v(t._s(t.$t("trade_coin_type")))]),t._v(" "),e("th",[e("CommonTableFilter",{attrs:{title:t.$t("change_type"),items:t.changeTypeMap},model:{value:t.queryForm.changeType,callback:function(e){t.$set(t.queryForm,"changeType",e)},expression:"queryForm.changeType"}})],1),t._v(" "),e("th",{on:{click:function(e){return t.sortData("changeNum")}}},[e("CommonSort",{attrs:{title:t.$t("change_number"),sort:"changeNum","sort-key":t.pager.sortKey,order:t.pager.order}})],1),t._v(" "),e("th",{on:{click:function(e){return t.sortData("restNum")}}},[e("CommonSort",{attrs:{title:t.$t("rest_number"),sort:"restNum","sort-key":t.pager.sortKey,order:t.pager.order}})],1)])]),t._v(" "),e("tbody",[t.tableData.length>0?t._l(t.tableData,(function(r,n){return e("tr",{key:n},[e("td",[t._v(t._s(t.formatDate(r.txDate)))]),t._v(" "),e("td",[t._v(t._s(r.currency))]),t._v(" "),e("td",[t._v(t._s(t.formatChangeType(r.changeType)))]),t._v(" "),e("td",[e("span",{class:"".concat(t.setNumColor(r.changeNum))},[t._v(t._s(r.changeNum>0?"+":"")+t._s(r.changeNum))])]),t._v(" "),e("td",[t._v(t._s(r.restNum))])])})):e("tr",[e("td",{attrs:{colspan:"5"}},[e("div",{staticClass:"empty-container"},[e("div",{staticClass:"flex-c-center"},[e("img",{attrs:{src:r(753),alt:"empty"}}),t._v(" "),e("div",{staticStyle:{"font-size":"18px","line-height":"0px","text-align":"center","letter-spacing":"0.1em"}},[t._v(t._s(t.$t("empty_data")))])])])])])],2)]),t._v(" "),e("div",{staticClass:"info-table-m"},[t.tableData.length>0?t._l(t.tableData,(function(r,n){return e("div",{key:n,staticClass:"info-card"},[e("div",{staticClass:"card-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("trade_date")))]),t._v(" "),e("div",{staticClass:"content"},[t._v(t._s(t.formatDate(r.txDate)))])]),t._v(" "),e("div",{staticClass:"card-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("trade_coin_type")))]),t._v(" "),e("div",{staticClass:"content"},[t._v(t._s(r.currency))])]),t._v(" "),e("div",{staticClass:"card-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("change_type")))]),t._v(" "),e("div",{staticClass:"content"},[t._v(t._s(t.formatChangeType(r.changeType)))])]),t._v(" "),e("div",{staticClass:"card-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("change_number")))]),t._v(" "),e("div",{staticClass:"content"},[e("span",{class:"".concat(t.setNumColor(r.changeNum))},[t._v(t._s(r.changeNum>0?"+":"")+t._s(r.changeNum))])])]),t._v(" "),e("div",{staticClass:"card-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("rest_number")))]),t._v(" "),e("div",{staticClass:"content"},[t._v(t._s(r.restNum))])])])})):e("div",{staticClass:"empty-container",staticStyle:{margin:"0 auto"}},[e("div",{staticClass:"flex-c-center"},[e("img",{attrs:{src:r(753),alt:"empty"}}),t._v(" "),e("div",{staticStyle:{"font-size":"18px","line-height":"0px","text-align":"center","letter-spacing":"0.1em"}},[t._v(t._s(t.$t("empty_data")))])])])],2),t._v(" "),t.tableData.length>0?e("CommonPager",{attrs:{"get-data":t.getCommissionTransaction,pager:t.pager}}):t._e(),t._v(" "),e("el-dialog",{attrs:{title:t.$t("filter"),visible:t.filterDialog.show,width:"300px","show-close":!1,"custom-class":"fbd-dialog controller-dialog"},on:{"update:visible":function(e){return t.$set(t.filterDialog,"show",e)}}},[e("div",{staticClass:"form-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("currency"))+"：")]),t._v(" "),e("div",{staticClass:"content"},[e("CommonCoinSelector",{model:{value:t.currencyType,callback:function(e){t.currencyType=e},expression:"currencyType"}})],1)]),t._v(" "),e("div",{staticClass:"form-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("start_time"))+"：")]),t._v(" "),e("div",{staticClass:"content"},[e("el-date-picker",{staticClass:"fdb",attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:t.$t("start_date"),clearable:!1},model:{value:t.dateRange[0],callback:function(e){t.$set(t.dateRange,0,e)},expression:"dateRange[0]"}})],1)]),t._v(" "),e("div",{staticClass:"form-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("end_time"))+"：")]),t._v(" "),e("div",{staticClass:"content"},[e("el-date-picker",{staticClass:"fdb",attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:t.$t("end_date"),clearable:!1},model:{value:t.dateRange[1],callback:function(e){t.$set(t.dateRange,1,e)},expression:"dateRange[1]"}})],1)]),t._v(" "),e("div",{staticClass:"form-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("change_type"))+"：")]),t._v(" "),e("div",{staticClass:"content"},[e("el-select",{staticClass:"fdb-select",staticStyle:{width:"100%"},attrs:{"popper-class":"fdb-select"},model:{value:t.queryForm.changeType,callback:function(e){t.$set(t.queryForm,"changeType",e)},expression:"queryForm.changeType"}},[e("el-option",{attrs:{label:t.$t("all"),value:-1}}),t._v(" "),t._l(t.changeTypeMap,(function(t){return e("el-option",{key:t.key,attrs:{label:t.name,value:t.key}})}))],2)],1)]),t._v(" "),e("div",{staticStyle:{width:"100%"},attrs:{slot:"footer"},slot:"footer"},[e("div",{staticClass:"fdb-btn-default",on:{click:function(e){t.filterDialog.show=!1}}},[t._v(t._s(t.$t("close")))])])]),t._v(" "),e("el-dialog",{attrs:{title:t.$t("sort"),visible:t.sortDialog.show,width:"300px","show-close":!1,"custom-class":"fbd-dialog controller-dialog"},on:{"update:visible":function(e){return t.$set(t.sortDialog,"show",e)}}},[e("div",{staticClass:"form-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("sort_field"))+"：")]),t._v(" "),e("div",{staticClass:"content"},[e("el-select",{staticClass:"fdb-select",staticStyle:{width:"100%"},attrs:{"popper-class":"fdb-select"},on:{change:function(e){return t.getCommissionTransaction(!0)}},model:{value:t.pager.sortKey,callback:function(e){t.$set(t.pager,"sortKey",e)},expression:"pager.sortKey"}},[e("el-option",{attrs:{label:t.$t("trade_date"),value:"txDate"}}),t._v(" "),e("el-option",{attrs:{label:t.$t("change_number"),value:"changeNum"}}),t._v(" "),e("el-option",{attrs:{label:t.$t("rest_number"),value:"restNum"}})],1)],1)]),t._v(" "),e("div",{staticClass:"form-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("sort_by"))+"：")]),t._v(" "),e("div",{staticClass:"content"},[e("el-select",{staticClass:"fdb-select",staticStyle:{width:"100%"},attrs:{"popper-class":"fdb-select"},on:{change:function(e){return t.getCommissionTransaction(!0)}},model:{value:t.pager.order,callback:function(e){t.$set(t.pager,"order",e)},expression:"pager.order"}},[e("el-option",{attrs:{label:t.$t("positive_order"),value:"asc"}}),t._v(" "),e("el-option",{attrs:{label:t.$t("reverse_order"),value:"desc"}})],1)],1)]),t._v(" "),e("div",{staticStyle:{width:"100%"},attrs:{slot:"footer"},slot:"footer"},[e("div",{staticClass:"fdb-btn-default",on:{click:function(e){t.sortDialog.show=!1}}},[t._v(t._s(t.$t("close")))])])])],1)}),[],!1,null,"631d4a9f",null);e.default=component.exports;installComponents(component,{CommonCoinSelector:r(783).default,CommonSort:r(773).default,CommonTableFilter:r(774).default,CommonPager:r(769).default})},832:function(t,e,r){"use strict";r.r(e);r(48);var n=r(4),l=(r(37),r(414),r(255)),o=r.n(l),c={name:"PersonalFeedback",props:{filterDateRange:{type:Array,default:function(){return[]}},filterCurrencyType:{type:Number,default:0},loading:{type:Boolean,default:!1}},data:function(){return{tableData:[],queryForm:{rebateStatus:-1},pager:{pageIndex:1,pageSize:10,totalCount:0,sortKey:"txDate",order:"desc"},filterDialog:{show:!1},sortDialog:{show:!1},rebateStatusMap:[{name:this.$t("no_rebate"),key:0},{name:this.$t("be_rebate"),key:1}]}},computed:{dateRange:{get:function(){return this.filterDateRange},set:function(t){this.$emit("update:filterDateRange",t)}},currencyType:{get:function(){return this.filterCurrencyType},set:function(t){this.$emit("update:filterCurrencyType",t)}},isLoading:{get:function(){return this.loading},set:function(t){this.$emit("update:loading",t)}}},watch:{dateRange:function(){this.getPersonalFeedback(!0)},currencyType:function(){this.getPersonalFeedback(!0)},queryForm:{handler:function(){this.getPersonalFeedback(!0)},deep:!0}},mounted:function(){this.getPersonalFeedback(!0)},methods:{getPersonalFeedback:function(){var t=arguments,e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.length>0&&void 0!==t[0]&&t[0]&&(e.pager.pageIndex=1),e.isLoading=!0,r.prev=3,n={currencyType:e.currencyType,rebateStatus:e.queryForm.rebateStatus,startDate:e.dateRange[0],endDate:e.dateRange[1],pageIndex:e.pager.pageIndex,pageSize:e.pager.pageSize,sortKey:e.pager.sortKey,order:e.pager.order},r.next=7,e.$api.dashboard.getPersonalFeedback(n);case 7:l=r.sent,e.tableData=l.data,e.pager.totalCount=l.totalCount,r.next=15;break;case 12:r.prev=12,r.t0=r.catch(3),console.error(r.t0);case 15:e.isLoading=!1;case 16:case"end":return r.stop()}}),r,null,[[3,12]])})))()},formatDate:function(t){return o()(t).format("YYYY-MM-DD HH:mm")},sortData:function(t){if(this.pager.sortKey===t)if("asc"===this.pager.order)this.pager.order="desc";else this.pager.order="asc";else this.pager.sortKey=t,this.pager.order="asc";this.getPersonalFeedback(!0)}}},d=c,v=r(21),component=Object(v.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"detail-section"},[e("div",{staticClass:"filter-section"},[e("CommonCoinSelector",{model:{value:t.currencyType,callback:function(e){t.currencyType=e},expression:"currencyType"}}),t._v(" "),e("div",{staticClass:"date-picker"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("filter_time"))+"：")]),t._v(" "),e("el-date-picker",{staticClass:"fdb",attrs:{type:"daterange","range-separator":t.$t("to"),"start-placeholder":t.$t("start_time"),"end-placeholder":t.$t("end_time"),size:"mini","value-format":"yyyy-MM-dd",clearable:!1},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1)],1),t._v(" "),e("div",{staticClass:"filter-section-m"},[e("div",{staticClass:"fdb-btn-info btn",on:{click:function(e){t.filterDialog.show=!0}}},[t._v(t._s(t.$t("filter")))]),t._v(" "),e("div",{staticClass:"fdb-btn-info btn",on:{click:function(e){t.sortDialog.show=!0}}},[t._v(t._s(t.$t("sort")))])]),t._v(" "),e("table",{staticClass:"info-table"},[e("thead",[e("tr",[e("th",[e("CommonTableFilter",{attrs:{title:t.$t("rebate_status"),items:t.rebateStatusMap},model:{value:t.queryForm.rebateStatus,callback:function(e){t.$set(t.queryForm,"rebateStatus",e)},expression:"queryForm.rebateStatus"}})],1),t._v(" "),e("th",{on:{click:function(e){return t.sortData("txDate")}}},[e("CommonSort",{attrs:{title:t.$t("trade_date"),sort:"txDate","sort-key":t.pager.sortKey,order:t.pager.order}})],1),t._v(" "),e("th",[t._v(t._s(t.$t("trade_coin_type")))]),t._v(" "),e("th",{on:{click:function(e){return t.sortData("canRebatePoint")}}},[e("CommonSort",{attrs:{title:t.$t("rebate_trading_volume"),sort:"canRebatePoint","sort-key":t.pager.sortKey,order:t.pager.order}})],1),t._v(" "),e("th",{on:{click:function(e){return t.sortData("canRebatValue")}}},[e("CommonSort",{attrs:{title:t.$t("rebate_quantity"),sort:"canRebatValue","sort-key":t.pager.sortKey,order:t.pager.order}})],1)])]),t._v(" "),e("tbody",[t.tableData.length>0?t._l(t.tableData,(function(r,n){return e("tr",{key:n},[e("td",[e("div",{staticClass:"status",class:{yet:0===r.rebateStatus,already:1===r.rebateStatus}}),t._v(" "),e("span",[t._v(t._s(0===r.rebateStatus?t.$t("no_rebate"):t.$t("be_rebate")))])]),t._v(" "),e("td",[t._v(t._s(t.formatDate(r.txDate)))]),t._v(" "),e("td",[t._v(t._s(t.$map.currencyMap[r.currency]))]),t._v(" "),e("td",[t._v(t._s(r.canRebatePoint))]),t._v(" "),e("td",[t._v(t._s(r.canRebatValue))])])})):e("tr",[e("td",{attrs:{colspan:"5"}},[e("div",{staticClass:"empty-container"},[e("div",{staticClass:"flex-c-center"},[e("img",{attrs:{src:r(753),alt:"empty"}}),t._v(" "),e("div",{staticStyle:{"font-size":"18px","line-height":"0px","text-align":"center","letter-spacing":"0.1em"}},[t._v(t._s(t.$t("empty_data")))])])])])])],2)]),t._v(" "),e("div",{staticClass:"info-table-m"},[t.tableData.length>0?t._l(t.tableData,(function(r,n){return e("div",{key:n,staticClass:"info-card"},[e("div",{staticClass:"card-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("rebate_status")))]),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"status",class:{yet:0===r.rebateStatus,already:1===r.rebateStatus}}),t._v(" "),e("span",[t._v(t._s(0===r.rebateStatus?t.$t("no_rebate"):t.$t("be_rebate")))])])]),t._v(" "),e("div",{staticClass:"card-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("trade_date")))]),t._v(" "),e("div",{staticClass:"content"},[t._v(t._s(t.formatDate(r.txDate)))])]),t._v(" "),e("div",{staticClass:"card-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("trade_coin_type")))]),t._v(" "),e("div",{staticClass:"content"},[t._v(t._s(t.$map.currencyMap[r.currency]))])]),t._v(" "),e("div",{staticClass:"card-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("rebate_trading_volume")))]),t._v(" "),e("div",{staticClass:"content"},[t._v(t._s(r.canRebatePoint))])]),t._v(" "),e("div",{staticClass:"card-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("rebate_quantity")))]),t._v(" "),e("div",{staticClass:"content"},[t._v(t._s(r.canRebatValue))])])])})):e("div",{staticClass:"empty-container",staticStyle:{margin:"0 auto"}},[e("div",{staticClass:"flex-c-center"},[e("img",{attrs:{src:r(753),alt:"empty"}}),t._v(" "),e("div",{staticStyle:{"font-size":"18px","line-height":"0px","text-align":"center","letter-spacing":"0.1em"}},[t._v(t._s(t.$t("empty_data")))])])])],2),t._v(" "),e("el-dialog",{attrs:{title:t.$t("filter"),visible:t.filterDialog.show,width:"300px","show-close":!1,"custom-class":"fbd-dialog controller-dialog"},on:{"update:visible":function(e){return t.$set(t.filterDialog,"show",e)}}},[e("div",{staticClass:"form-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("currency"))+"：")]),t._v(" "),e("div",{staticClass:"content"},[e("CommonCoinSelector",{model:{value:t.currencyType,callback:function(e){t.currencyType=e},expression:"currencyType"}})],1)]),t._v(" "),e("div",{staticClass:"form-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("start_time"))+"：")]),t._v(" "),e("div",{staticClass:"content"},[e("el-date-picker",{staticClass:"fdb",attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:t.$t("start_date"),clearable:!1},model:{value:t.dateRange[0],callback:function(e){t.$set(t.dateRange,0,e)},expression:"dateRange[0]"}})],1)]),t._v(" "),e("div",{staticClass:"form-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("end_time"))+"：")]),t._v(" "),e("div",{staticClass:"content"},[e("el-date-picker",{staticClass:"fdb",attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:t.$t("end_date"),clearable:!1},model:{value:t.dateRange[1],callback:function(e){t.$set(t.dateRange,1,e)},expression:"dateRange[1]"}})],1)]),t._v(" "),e("div",{staticClass:"form-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("rebate_status"))+"：")]),t._v(" "),e("div",{staticClass:"content"},[e("el-select",{staticClass:"fdb-select",staticStyle:{width:"100%"},attrs:{"popper-class":"fdb-select"},model:{value:t.queryForm.rebateStatus,callback:function(e){t.$set(t.queryForm,"rebateStatus",e)},expression:"queryForm.rebateStatus"}},[e("el-option",{attrs:{label:t.$t("all"),value:-1}}),t._v(" "),t._l(t.rebateStatusMap,(function(t){return e("el-option",{key:t.key,attrs:{label:t.name,value:t.key}})}))],2)],1)]),t._v(" "),e("div",{staticStyle:{width:"100%"},attrs:{slot:"footer"},slot:"footer"},[e("div",{staticClass:"fdb-btn-default",on:{click:function(e){t.filterDialog.show=!1}}},[t._v(t._s(t.$t("close")))])])]),t._v(" "),e("el-dialog",{attrs:{title:t.$t("sort"),visible:t.sortDialog.show,width:"300px","show-close":!1,"custom-class":"fbd-dialog controller-dialog"},on:{"update:visible":function(e){return t.$set(t.sortDialog,"show",e)}}},[e("div",{staticClass:"form-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("sort_field"))+"：")]),t._v(" "),e("div",{staticClass:"content"},[e("el-select",{staticClass:"fdb-select",staticStyle:{width:"100%"},attrs:{"popper-class":"fdb-select"},on:{change:function(e){return t.getPersonalFeedback(!0)}},model:{value:t.pager.sortKey,callback:function(e){t.$set(t.pager,"sortKey",e)},expression:"pager.sortKey"}},[e("el-option",{attrs:{label:t.$t("trade_date"),value:"txDate"}}),t._v(" "),e("el-option",{attrs:{label:t.$t("rebate_trading_volume"),value:"canRebatePoint"}}),t._v(" "),e("el-option",{attrs:{label:t.$t("rebate_quantity"),value:"canRebatValue"}})],1)],1)]),t._v(" "),e("div",{staticClass:"form-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("sort_by"))+"：")]),t._v(" "),e("div",{staticClass:"content"},[e("el-select",{staticClass:"fdb-select",staticStyle:{width:"100%"},attrs:{"popper-class":"fdb-select"},on:{change:function(e){return t.getPersonalFeedback(!0)}},model:{value:t.pager.order,callback:function(e){t.$set(t.pager,"order",e)},expression:"pager.order"}},[e("el-option",{attrs:{label:t.$t("positive_order"),value:"asc"}}),t._v(" "),e("el-option",{attrs:{label:t.$t("reverse_order"),value:"desc"}})],1)],1)]),t._v(" "),e("div",{staticStyle:{width:"100%"},attrs:{slot:"footer"},slot:"footer"},[e("div",{staticClass:"fdb-btn-default",on:{click:function(e){t.sortDialog.show=!1}}},[t._v(t._s(t.$t("close")))])])]),t._v(" "),t.tableData.length>0?e("CommonPager",{attrs:{"get-data":t.getPersonalFeedback,pager:t.pager}}):t._e()],1)}),[],!1,null,"53943545",null);e.default=component.exports;installComponents(component,{CommonCoinSelector:r(783).default,CommonTableFilter:r(774).default,CommonSort:r(773).default,CommonPager:r(769).default})},833:function(t,e,r){"use strict";r.r(e);r(48);var n=r(4),l=(r(37),r(414),r(255)),o=r.n(l),c={name:"Withdrawal",props:{filterDateRange:{type:Array,default:function(){return[]}},filterCurrencyType:{type:Number,default:0},loading:{type:Boolean,default:!1}},data:function(){return{tableData:[],queryForm:{rebateStatus:-1},pager:{pageIndex:1,pageSize:10,totalCount:0,sortKey:"orderDate",order:"desc"},filterDialog:{show:!1},sortDialog:{show:!1},rebateStatusMap:[{name:this.$t("applying"),key:0},{name:this.$t("withdrawal"),key:1},{name:this.$t("completed"),key:2},{name:this.$t("cancelled"),key:3}]}},computed:{dateRange:{get:function(){return this.filterDateRange},set:function(t){this.$emit("update:filterDateRange",t)}},currencyType:{get:function(){return this.filterCurrencyType},set:function(t){this.$emit("update:filterCurrencyType",t)}},isLoading:{get:function(){return this.loading},set:function(t){this.$emit("update:loading",t)}}},watch:{dateRange:function(){this.getWithdrawal(!0)},currencyType:function(){this.getWithdrawal(!0)},queryForm:{handler:function(){this.getWithdrawal(!0)},deep:!0}},mounted:function(){this.getWithdrawal(!0)},methods:{getWithdrawal:function(){var t=arguments,e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.length>0&&void 0!==t[0]&&t[0]&&(e.pager.pageIndex=1),e.isLoading=!0,r.prev=3,n={currencyType:e.currencyType,rebateStatus:e.queryForm.rebateStatus,startDate:e.dateRange[0],endDate:e.dateRange[1],pageIndex:e.pager.pageIndex,pageSize:e.pager.pageSize,sortKey:e.pager.sortKey,order:e.pager.order},r.next=7,e.$api.dashboard.getWithdrawal(n);case 7:l=r.sent,e.tableData=l.data,e.pager.totalCount=l.totalCount,r.next=15;break;case 12:r.prev=12,r.t0=r.catch(3),console.error(r.t0);case 15:e.isLoading=!1;case 16:case"end":return r.stop()}}),r,null,[[3,12]])})))()},formatDate:function(t){return t?o()(t).format("YYYY-MM-DD HH:mm"):"-"},sortData:function(t){if(this.pager.sortKey===t)if("asc"===this.pager.order)this.pager.order="desc";else this.pager.order="asc";else this.pager.sortKey=t,this.pager.order="asc";this.getWithdrawal(!0)}}},d=c,v=r(21),component=Object(v.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"detail-section"},[e("div",{staticClass:"filter-section"},[e("CommonCoinSelector",{model:{value:t.currencyType,callback:function(e){t.currencyType=e},expression:"currencyType"}}),t._v(" "),e("div",{staticClass:"date-picker"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("filter_time"))+"：")]),t._v(" "),e("el-date-picker",{staticClass:"fdb",attrs:{type:"daterange","range-separator":t.$t("to"),"start-placeholder":t.$t("start_time"),"end-placeholder":t.$t("end_time"),size:"mini","value-format":"yyyy-MM-dd",clearable:!1},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1)],1),t._v(" "),e("div",{staticClass:"filter-section-m"},[e("div",{staticClass:"fdb-btn-info btn",on:{click:function(e){t.filterDialog.show=!0}}},[t._v(t._s(t.$t("filter")))]),t._v(" "),e("div",{staticClass:"fdb-btn-info btn",on:{click:function(e){t.sortDialog.show=!0}}},[t._v(t._s(t.$t("sort")))])]),t._v(" "),e("table",{staticClass:"info-table"},[e("thead",[e("tr",[e("th",[e("CommonTableFilter",{attrs:{title:t.$t("application_status"),items:t.rebateStatusMap},model:{value:t.queryForm.rebateStatus,callback:function(e){t.$set(t.queryForm,"rebateStatus",e)},expression:"queryForm.rebateStatus"}})],1),t._v(" "),e("th",[t._v(t._s(t.$t("application_number")))]),t._v(" "),e("th",{on:{click:function(e){return t.sortData("orderDate")}}},[e("CommonSort",{attrs:{title:t.$t("apply_withdrawal_time"),sort:"orderDate","sort-key":t.pager.sortKey,order:t.pager.order}})],1),t._v(" "),e("th",[t._v(t._s(t.$t("apply_coin_type")))]),t._v(" "),e("th",{on:{click:function(e){return t.sortData("orderValue")}}},[e("CommonSort",{attrs:{title:t.$t("apply_number"),sort:"orderValue","sort-key":t.pager.sortKey,order:t.pager.order}})],1),t._v(" "),e("th",{on:{click:function(e){return t.sortData("finishDate")}}},[e("CommonSort",{attrs:{title:t.$t("completed_withdrawal_date"),sort:"finishDate","sort-key":t.pager.sortKey,order:t.pager.order}})],1)])]),t._v(" "),e("tbody",[t.tableData.length>0?t._l(t.tableData,(function(r,n){return e("tr",{key:n},[e("td",[0===r.rebateStatus?[e("div",{staticClass:"status yet"}),t._v("\n              "+t._s(t.$t("applying"))+"\n            ")]:t._e(),t._v(" "),1===r.rebateStatus?[e("div",{staticClass:"status progress"}),t._v("\n              "+t._s(t.$t("withdrawal"))+"\n            ")]:t._e(),t._v(" "),2===r.rebateStatus?[e("div",{staticClass:"status already"}),t._v("\n              "+t._s(t.$t("completed"))+"\n            ")]:t._e(),t._v(" "),3===r.rebateStatus?[e("div",{staticClass:"status already"}),t._v("\n              "+t._s(t.$t("cancelled"))+"\n            ")]:t._e()],2),t._v(" "),e("td",[t._v(t._s(r.orderNum))]),t._v(" "),e("td",[t._v(t._s(t.formatDate(r.orderDate)))]),t._v(" "),e("td",[t._v(t._s(t.$map.currencyMap[r.currency]))]),t._v(" "),e("td",[t._v(t._s(r.orderValue))]),t._v(" "),e("td",[t._v(t._s(t.formatDate(r.finishDate)))])])})):e("tr",[e("td",{attrs:{colspan:"6"}},[e("div",{staticClass:"empty-container"},[e("div",{staticClass:"flex-c-center"},[e("img",{attrs:{src:r(753),alt:"empty"}}),t._v(" "),e("div",{staticStyle:{"font-size":"18px","line-height":"0px","text-align":"center","letter-spacing":"0.1em"}},[t._v(t._s(t.$t("empty_data")))])])])])])],2)]),t._v(" "),e("div",{staticClass:"info-table-m"},[t.tableData.length>0?t._l(t.tableData,(function(r,n){return e("div",{key:n,staticClass:"info-card"},[e("div",{staticClass:"card-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("rebate_status")))]),t._v(" "),e("div",{staticClass:"content"},[0===r.rebateStatus?[e("div",{staticClass:"status yet"}),t._v("\n              "+t._s(t.$t("applying"))+"\n            ")]:t._e(),t._v(" "),1===r.rebateStatus?[e("div",{staticClass:"status progress"}),t._v("\n              "+t._s(t.$t("withdrawal"))+"\n            ")]:t._e(),t._v(" "),2===r.rebateStatus?[e("div",{staticClass:"status already"}),t._v("\n              "+t._s(t.$t("completed"))+"\n            ")]:t._e(),t._v(" "),3===r.rebateStatus?[e("div",{staticClass:"status already"}),t._v("\n              "+t._s(t.$t("cancelled"))+"\n            ")]:t._e()],2)]),t._v(" "),e("div",{staticClass:"card-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("application_number")))]),t._v(" "),e("div",{staticClass:"content"},[t._v(t._s(r.orderNum))])]),t._v(" "),e("div",{staticClass:"card-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("trade_date")))]),t._v(" "),e("div",{staticClass:"content"},[t._v(t._s(t.formatDate(r.orderDate)))])]),t._v(" "),e("div",{staticClass:"card-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("trade_coin_type")))]),t._v(" "),e("div",{staticClass:"content"},[t._v(t._s(t.$map.currencyMap[r.currency]))])]),t._v(" "),e("div",{staticClass:"card-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("apply_number")))]),t._v(" "),e("div",{staticClass:"content"},[t._v(t._s(r.orderValue))])]),t._v(" "),e("div",{staticClass:"card-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("completed_withdrawal_date")))]),t._v(" "),e("div",{staticClass:"content"},[t._v(t._s(t.formatDate(r.finishDate)))])])])})):e("div",{staticClass:"empty-container",staticStyle:{margin:"0 auto"}},[e("div",{staticClass:"flex-c-center"},[e("img",{attrs:{src:r(753),alt:"empty"}}),t._v(" "),e("div",{staticStyle:{"font-size":"18px","line-height":"0px","text-align":"center","letter-spacing":"0.1em"}},[t._v(t._s(t.$t("empty_data")))])])])],2),t._v(" "),e("el-dialog",{attrs:{title:t.$t("filter"),visible:t.filterDialog.show,width:"300px","show-close":!1,"custom-class":"fbd-dialog controller-dialog"},on:{"update:visible":function(e){return t.$set(t.filterDialog,"show",e)}}},[e("div",{staticClass:"form-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("currency"))+"：")]),t._v(" "),e("div",{staticClass:"content"},[e("CommonCoinSelector",{model:{value:t.currencyType,callback:function(e){t.currencyType=e},expression:"currencyType"}})],1)]),t._v(" "),e("div",{staticClass:"form-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("start_time"))+"：")]),t._v(" "),e("div",{staticClass:"content"},[e("el-date-picker",{staticClass:"fdb",attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:t.$t("start_date"),clearable:!1},model:{value:t.dateRange[0],callback:function(e){t.$set(t.dateRange,0,e)},expression:"dateRange[0]"}})],1)]),t._v(" "),e("div",{staticClass:"form-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("end_time"))+"：")]),t._v(" "),e("div",{staticClass:"content"},[e("el-date-picker",{staticClass:"fdb",attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:t.$t("end_date"),clearable:!1},model:{value:t.dateRange[1],callback:function(e){t.$set(t.dateRange,1,e)},expression:"dateRange[1]"}})],1)]),t._v(" "),e("div",{staticClass:"form-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("application_status"))+"：")]),t._v(" "),e("div",{staticClass:"content"},[e("el-select",{staticClass:"fdb-select",staticStyle:{width:"100%"},attrs:{"popper-class":"fdb-select"},model:{value:t.queryForm.rebateStatus,callback:function(e){t.$set(t.queryForm,"rebateStatus",e)},expression:"queryForm.rebateStatus"}},[e("el-option",{attrs:{label:t.$t("all"),value:-1}}),t._v(" "),t._l(t.rebateStatusMap,(function(t){return e("el-option",{key:t.key,attrs:{label:t.name,value:t.key}})}))],2)],1)]),t._v(" "),e("div",{staticStyle:{width:"100%"},attrs:{slot:"footer"},slot:"footer"},[e("div",{staticClass:"fdb-btn-default",on:{click:function(e){t.filterDialog.show=!1}}},[t._v(t._s(t.$t("close")))])])]),t._v(" "),e("el-dialog",{attrs:{title:t.$t("sort"),visible:t.sortDialog.show,width:"300px","show-close":!1,"custom-class":"fbd-dialog controller-dialog"},on:{"update:visible":function(e){return t.$set(t.sortDialog,"show",e)}}},[e("div",{staticClass:"form-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("sort_field"))+"：")]),t._v(" "),e("div",{staticClass:"content"},[e("el-select",{staticClass:"fdb-select",staticStyle:{width:"100%"},attrs:{"popper-class":"fdb-select"},on:{change:function(e){return t.getWithdrawal(!0)}},model:{value:t.pager.sortKey,callback:function(e){t.$set(t.pager,"sortKey",e)},expression:"pager.sortKey"}},[e("el-option",{attrs:{label:t.$t("apply_withdrawal_time"),value:"orderDate"}}),t._v(" "),e("el-option",{attrs:{label:t.$t("apply_number"),value:"orderValue"}}),t._v(" "),e("el-option",{attrs:{label:t.$t("completed_withdrawal_date"),value:"finishDate"}})],1)],1)]),t._v(" "),e("div",{staticClass:"form-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("sort_by"))+"：")]),t._v(" "),e("div",{staticClass:"content"},[e("el-select",{staticClass:"fdb-select",staticStyle:{width:"100%"},attrs:{"popper-class":"fdb-select"},on:{change:function(e){return t.getWithdrawal(!0)}},model:{value:t.pager.order,callback:function(e){t.$set(t.pager,"order",e)},expression:"pager.order"}},[e("el-option",{attrs:{label:t.$t("positive_order"),value:"asc"}}),t._v(" "),e("el-option",{attrs:{label:t.$t("reverse_order"),value:"desc"}})],1)],1)]),t._v(" "),e("div",{staticStyle:{width:"100%"},attrs:{slot:"footer"},slot:"footer"},[e("div",{staticClass:"fdb-btn-default",on:{click:function(e){t.sortDialog.show=!1}}},[t._v(t._s(t.$t("close")))])])]),t._v(" "),t.tableData.length>0?e("CommonPager",{attrs:{"get-data":t.getWithdrawal,pager:t.pager}}):t._e()],1)}),[],!1,null,"5a5b4e4c",null);e.default=component.exports;installComponents(component,{CommonCoinSelector:r(783).default,CommonTableFilter:r(774).default,CommonSort:r(773).default,CommonPager:r(769).default})},867:function(t,e,r){"use strict";r.r(e);var n=r(4),l=(r(37),r(784),r(14),r(255)),o=r.n(l),c={name:"Dashboard",data:function(){return{refundShow:"CommissionTransaction",tableLoading:!1,refundFilter:{currencyType:0,dateRange:[o()().subtract(60,"days").format("YYYY-MM-DD"),o()().format("YYYY-MM-DD")]},menuDom:null}},mounted:function(){this.checkBindStores(),this.menuDom=document.querySelector(".detail-menu")},methods:{checkBindStores:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.commit("app/SET_G_LOADING",!0),e.prev=1,e.next=4,t.$store.dispatch("user/getBindStores");case 4:0!==(r=e.sent).length&&r.find((function(t){return 1===t.status}))||(t.$message({type:"warning",duration:1e4,message:t.$t("exchange_not_yet_bound")}),t.$router.push({name:"lang-personal",params:{lang:t.$route.params.lang}})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),t.$router.push({name:"lang-personal",params:{lang:t.$route.params.lang}});case 12:return e.prev=12,t.$store.commit("app/SET_G_LOADING",!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})))()},refundChange:function(t,e){this.refundShow=t,this.scorllMenu(e)},scorllMenu:function(t){switch(t){case"left":this.menuDom.scrollLeft=0;break;case"right":this.menuDom.scrollLeft=1e3}}}},d=r(21),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"dashboard"},[e("div",{staticClass:"dashboard-container"},[e("DashboardHeader"),t._v(" "),e("div",{staticClass:"detail-title"},[e("span",{staticClass:"title"},[t._v(t._s(t.$t("commission_detail")))]),t._v(" "),e("NuxtLink",{staticClass:"withdraw-btn fdb-btn-primary-hover",attrs:{to:{name:"lang-take-cash",params:{lang:t.$route.params.lang}}}},[t._v("\n        "+t._s(t.$t("withdrawal_apply"))+"\n      ")])],1),t._v(" "),e("div",{staticClass:"detail-menu"},[e("div",{staticClass:"menu",class:{active:"CommissionTransaction"===t.refundShow},on:{click:function(e){return t.refundChange("CommissionTransaction","left")}}},[t._v("\n        "+t._s(t.$t("your_commission_change_record"))+"\n      ")]),t._v(" "),e("div",{staticClass:"menu",class:{active:"PersonalFeedback"===t.refundShow},on:{click:function(e){return t.refundChange("PersonalFeedback","left")}}},[t._v("\n        "+t._s(t.$t("personal_rebate_information"))+"\n      ")]),t._v(" "),e("div",{staticClass:"menu",class:{active:"Recommender"===t.refundShow},on:{click:function(e){return t.refundChange("Recommender","right")}}},[t._v("\n        "+t._s(t.$t("referrer_rebate_information"))+"\n      ")]),t._v(" "),e("div",{staticClass:"menu",class:{active:"Withdrawal"===t.refundShow},on:{click:function(e){return t.refundChange("Withdrawal","right")}}},[t._v("\n        "+t._s(t.$t("withdrawal_apply_record"))+"\n      ")])]),t._v(" "),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticClass:"detail-list",attrs:{"element-loading-background":"rgba(0, 0, 0, 0.5)"}},["CommissionTransaction"===t.refundShow?e("DashboardCommissionTransaction",{attrs:{filterCurrencyType:t.refundFilter.currencyType,filterDateRange:t.refundFilter.dateRange,loading:t.tableLoading},on:{"update:filterCurrencyType":function(e){return t.$set(t.refundFilter,"currencyType",e)},"update:filter-currency-type":function(e){return t.$set(t.refundFilter,"currencyType",e)},"update:filterDateRange":function(e){return t.$set(t.refundFilter,"dateRange",e)},"update:filter-date-range":function(e){return t.$set(t.refundFilter,"dateRange",e)},"update:loading":function(e){t.tableLoading=e}}}):t._e(),t._v(" "),"PersonalFeedback"===t.refundShow?e("DashboardPersonalFeedback",{attrs:{filterCurrencyType:t.refundFilter.currencyType,filterDateRange:t.refundFilter.dateRange,loading:t.tableLoading},on:{"update:filterCurrencyType":function(e){return t.$set(t.refundFilter,"currencyType",e)},"update:filter-currency-type":function(e){return t.$set(t.refundFilter,"currencyType",e)},"update:filterDateRange":function(e){return t.$set(t.refundFilter,"dateRange",e)},"update:filter-date-range":function(e){return t.$set(t.refundFilter,"dateRange",e)},"update:loading":function(e){t.tableLoading=e}}}):t._e(),t._v(" "),"Recommender"===t.refundShow?e("DashboardRecommender",{attrs:{filterCurrencyType:t.refundFilter.currencyType,filterDateRange:t.refundFilter.dateRange,loading:t.tableLoading},on:{"update:filterCurrencyType":function(e){return t.$set(t.refundFilter,"currencyType",e)},"update:filter-currency-type":function(e){return t.$set(t.refundFilter,"currencyType",e)},"update:filterDateRange":function(e){return t.$set(t.refundFilter,"dateRange",e)},"update:filter-date-range":function(e){return t.$set(t.refundFilter,"dateRange",e)},"update:loading":function(e){t.tableLoading=e}}}):t._e(),t._v(" "),"Withdrawal"===t.refundShow?e("DashboardWithdrawal",{attrs:{filterCurrencyType:t.refundFilter.currencyType,filterDateRange:t.refundFilter.dateRange,loading:t.tableLoading},on:{"update:filterCurrencyType":function(e){return t.$set(t.refundFilter,"currencyType",e)},"update:filter-currency-type":function(e){return t.$set(t.refundFilter,"currencyType",e)},"update:filterDateRange":function(e){return t.$set(t.refundFilter,"dateRange",e)},"update:filter-date-range":function(e){return t.$set(t.refundFilter,"dateRange",e)},"update:loading":function(e){t.tableLoading=e}}}):t._e()],1)],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{DashboardHeader:r(862).default,DashboardCommissionTransaction:r(831).default,DashboardPersonalFeedback:r(832).default,DashboardRecommender:r(863).default,DashboardWithdrawal:r(833).default})}}]);