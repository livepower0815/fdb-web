(window.webpackJsonp=window.webpackJsonp||[]).push([[25,13],{782:function(e,t,o){e.exports=o.p+"img/close-eye.0775c56.svg"},785:function(e,t,o){"use strict";o.r(t);var r={name:"PasswordIcon",props:{pwdType:{type:String,default:"password"}},computed:{pt:{get:function(){return this.pwdType},set:function(e){this.$emit("update:pwdType",e)}}},methods:{togglePwd:function(){this.pt="password"===this.pt?"text":"password"}}},n=o(21),component=Object(n.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticStyle:{position:"relative",float:"left"}},["password"===e.pt?t("img",{staticStyle:{position:"absolute",top:"13px",right:"12px","box-sizing":"content-box",width:"auto",height:"7px",padding:"3px 0"},attrs:{src:o(782),alt:"colse-eye"},on:{click:e.togglePwd}}):e._e(),e._v(" "),"text"===e.pt?t("i",{staticClass:"el-icon-view",staticStyle:{position:"absolute",top:"13px",right:"12px","box-sizing":"content-box"},on:{click:e.togglePwd}}):e._e()])}),[],!1,null,null,null);t.default=component.exports},804:function(e,t,o){var content=o(821);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(36).default)("3b6d532c",content,!0,{sourceMap:!1})},820:function(e,t,o){"use strict";o(804)},821:function(e,t,o){var r=o(35)(!1);r.push([e.i,".split-input[data-v-c6bae452]{display:flex;float:left;width:430px}.split-input .input[data-v-c6bae452]{box-sizing:border-box;float:left;height:42px;padding-left:10px;font-size:16px;color:#c4c4c4;background:#252c3d;border:none;border-radius:8px}@media screen and (min-width: 1000px)and (max-width: 1346px){.split-input[data-v-c6bae452]{width:100%}}@media screen and (min-width: 750px)and (max-width: 999px){.split-input[data-v-c6bae452]{width:100%}}@media screen and (min-width: 540px)and (max-width: 749px){.split-input[data-v-c6bae452]{width:100%}}@media screen and (min-width: 300px)and (max-width: 539px){.split-input[data-v-c6bae452]{width:100%}}",""]),e.exports=r},839:function(e,t,o){"use strict";o.r(t);o(48),o(131),o(70);var r=o(4),n=(o(37),o(45),o(14),o(83),{name:"PersonalEdit",data:function(){return{isLoading:!1,isEdit:!1,formData:{name:"",email:"",imageUrl:"",areaCode:"",phone:"",password:"",newPassword:"",doubleCheck:""},passwordType:"password",newPasswordType:"password",doubleCheckType:"password"}},computed:{userInfo:function(){return this.$store.state.user.userInfo},isGoogleAccount:function(){return this.$store.getters.isGoogleAccount}},mounted:function(){this.init(),this.$refs.upload.addEventListener("change",this.handleFiles,!1)},beforeDestroy:function(){this.$refs.upload.removeEventListener("change",this.handleFiles)},methods:{init:function(){this.formData.name=this.userInfo.name,this.formData.email=this.userInfo.email,this.formData.imageUrl=this.userInfo.imageUrl,this.formData.areaCode=this.userInfo.areaCode,this.formData.phone=this.userInfo.phone,this.formData.password="",this.formData.newPassword="",this.formData.doubleCheck=""},changeImage:function(){this.$refs.upload.click()},handleFiles:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var o,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.prev=1,(o=new FormData).append("file",e.$refs.upload.files[0]),t.next=6,e.$api.common.uploadFile(o);case 6:r=t.sent,e.formData.imageUrl=r.data,e.$refs.upload.value=null,t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),e.$message.error(e.$t("image_upload_fail")),console.error(t.t0);case 15:e.isLoading=!1;case 16:case"end":return t.stop()}}),t,null,[[1,11]])})))()},saveUserData:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.prev=1,t.next=4,e.validate();case 4:return o={name:e.formData.name,areaCode:e.formData.areaCode,phone:e.formData.phone,password:e.formData.password,newPassword:e.formData.newPassword,imageUrl:e.formData.imageUrl},t.next=7,e.$api.user.updateUserData(o);case 7:e.$message.success(e.$t("personal_update_success")),e.$store.dispatch("user/getUserInfo"),e.isEdit=!1,t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),t.t0.isHttpError||e.$message.error(t.t0.message),console.error(t.t0);case 16:e.isLoading=!1;case 17:case"end":return t.stop()}}),t,null,[[1,12]])})))()},validate:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.formData.phone||/^\d+$/.test(e.formData.phone)){t.next=2;break}return t.abrupt("return",Promise.reject(new Error(e.$t("m_phone_enter_number"))));case 2:if(!(e.formData.password||e.formData.newPassword||e.formData.doubleCheck)){t.next=9;break}if(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/.test(e.formData.password)){t.next=5;break}return t.abrupt("return",Promise.reject(new Error(e.$t("old_password_verify"))));case 5:if(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/.test(e.formData.newPassword)){t.next=7;break}return t.abrupt("return",Promise.reject(new Error(e.$t("new_password_verify"))));case 7:if(e.formData.newPassword===e.formData.doubleCheck){t.next=9;break}return t.abrupt("return",Promise.reject(new Error(e.$t("check_new_password"))));case 9:return t.abrupt("return","done");case 10:case"end":return t.stop()}}),t)})))()},formatPassword:function(e){return e.replace(/./g,"*")},cancelEdit:function(){this.init(),this.isEdit=!1}}}),c=(o(820),o(21)),component=Object(c.a)(n,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticStyle:{float:"left"},attrs:{"element-loading-background":"rgba(0, 0, 0, 0.5)"}},[t("div",{staticClass:"personal-function-main"},[t("div",{staticClass:"title"},[e._v(e._s(e.$t("personal_information")))]),e._v(" "),t("div",{staticClass:"sub"},[e._v(e._s(e.$t("only_fields_can_be_modified")))]),e._v(" "),t("div",{staticClass:"personal-edit-info-block"},[t("div",{staticClass:"pic-block"},[t("div",{staticClass:"img",staticStyle:{"border-radius":"50%"},style:"background-image: url('".concat(e.formData.imageUrl,"')"),attrs:{alt:"personal-pic"}}),e._v(" "),e.isEdit?t("a",{staticClass:"btn",attrs:{href:"javascript:void(0)"},on:{click:e.changeImage}},[e._v(e._s(e.$t("change_personal_image")))]):e._e(),e._v(" "),t("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"upload",attrs:{type:"file"}})]),e._v(" "),t("div",{staticClass:"info-input-block"},[t("div",{staticClass:"main"},[t("div",{staticClass:"title"},[e._v(e._s(e.$t("user_name")))]),e._v(" "),e.isEdit?t("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.name,expression:"formData.name"}],staticClass:"input",attrs:{type:"text"},domProps:{value:e.formData.name},on:{input:function(t){t.target.composing||e.$set(e.formData,"name",t.target.value)}}}):t("div",{staticClass:"info"},[e._v(e._s(e.formData.name))])]),e._v(" "),t("div",{staticClass:"main"},[t("div",{staticClass:"title"},[e._v(e._s(e.$t("user_email")))]),e._v(" "),t("div",{staticClass:"info"},[e._v(e._s(e.formData.email))])]),e._v(" "),t("div",{staticClass:"main"},[t("div",{staticClass:"title"},[e._v(e._s(e.$t("mobile_phone")))]),e._v(" "),e.isEdit?t("div",{staticClass:"split-input"},[t("el-select",{staticClass:"fdb-select input select-L",staticStyle:{width:"90px","padding-left":"0","margin-right":"8px"},attrs:{"popper-class":"fdb-select"},model:{value:e.formData.areaCode,callback:function(t){e.$set(e.formData,"areaCode",t)},expression:"formData.areaCode"}},e._l(e.$map.phoneAreaCode,(function(o,r){return t("el-option",{key:r,attrs:{label:o.code,value:o.code}},[t("span",{staticStyle:{float:"left","margin-right":"26px",color:"#ccc"}},[e._v(e._s(o.country))]),e._v(" "),t("span",{staticStyle:{float:"right"}},[e._v(e._s(o.code))])])})),1),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.phone,expression:"formData.phone"}],staticClass:"input",staticStyle:{flex:"1"},attrs:{type:"text",placeholder:e.$t("please_enter_phone"),autocomplete:"off"},domProps:{value:e.formData.phone},on:{input:function(t){t.target.composing||e.$set(e.formData,"phone",t.target.value)}}})],1):t("div",{staticClass:"info"},[e._v(e._s(e.formData.areaCode)+" "+e._s(e.formData.phone))])]),e._v(" "),e.isEdit&&!e.isGoogleAccount?[t("div",{staticClass:"main"},[t("div",{staticClass:"title"},[e._v(e._s(e.$t("old_password")))]),e._v(" "),"checkbox"===e.passwordType?t("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"}],staticClass:"input",attrs:{autocomplete:"off",type:"checkbox"},domProps:{checked:Array.isArray(e.formData.password)?e._i(e.formData.password,null)>-1:e.formData.password},on:{change:function(t){var o=e.formData.password,r=t.target,n=!!r.checked;if(Array.isArray(o)){var c=e._i(o,null);r.checked?c<0&&e.$set(e.formData,"password",o.concat([null])):c>-1&&e.$set(e.formData,"password",o.slice(0,c).concat(o.slice(c+1)))}else e.$set(e.formData,"password",n)}}}):"radio"===e.passwordType?t("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"}],staticClass:"input",attrs:{autocomplete:"off",type:"radio"},domProps:{checked:e._q(e.formData.password,null)},on:{change:function(t){return e.$set(e.formData,"password",null)}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"}],staticClass:"input",attrs:{autocomplete:"off",type:e.passwordType},domProps:{value:e.formData.password},on:{input:function(t){t.target.composing||e.$set(e.formData,"password",t.target.value)}}}),e._v(" "),t("CommonPasswordIcon",{attrs:{"pwd-type":e.passwordType},on:{"update:pwdType":function(t){e.passwordType=t},"update:pwd-type":function(t){e.passwordType=t}}})],1),e._v(" "),t("div",{staticClass:"main"},[t("div",{staticClass:"title"},[e._v(e._s(e.$t("new_password")))]),e._v(" "),"checkbox"===e.newPasswordType?t("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.newPassword,expression:"formData.newPassword"}],staticClass:"input",attrs:{autocomplete:"off",type:"checkbox"},domProps:{checked:Array.isArray(e.formData.newPassword)?e._i(e.formData.newPassword,null)>-1:e.formData.newPassword},on:{change:function(t){var o=e.formData.newPassword,r=t.target,n=!!r.checked;if(Array.isArray(o)){var c=e._i(o,null);r.checked?c<0&&e.$set(e.formData,"newPassword",o.concat([null])):c>-1&&e.$set(e.formData,"newPassword",o.slice(0,c).concat(o.slice(c+1)))}else e.$set(e.formData,"newPassword",n)}}}):"radio"===e.newPasswordType?t("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.newPassword,expression:"formData.newPassword"}],staticClass:"input",attrs:{autocomplete:"off",type:"radio"},domProps:{checked:e._q(e.formData.newPassword,null)},on:{change:function(t){return e.$set(e.formData,"newPassword",null)}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.newPassword,expression:"formData.newPassword"}],staticClass:"input",attrs:{autocomplete:"off",type:e.newPasswordType},domProps:{value:e.formData.newPassword},on:{input:function(t){t.target.composing||e.$set(e.formData,"newPassword",t.target.value)}}}),e._v(" "),t("CommonPasswordIcon",{attrs:{"pwd-type":e.newPasswordType},on:{"update:pwdType":function(t){e.newPasswordType=t},"update:pwd-type":function(t){e.newPasswordType=t}}})],1),e._v(" "),t("div",{staticClass:"main"},[t("div",{staticClass:"title"},[e._v(e._s(e.$t("check_again")))]),e._v(" "),"checkbox"===e.doubleCheckType?t("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.doubleCheck,expression:"formData.doubleCheck"}],staticClass:"input",attrs:{autocomplete:"off",type:"checkbox"},domProps:{checked:Array.isArray(e.formData.doubleCheck)?e._i(e.formData.doubleCheck,null)>-1:e.formData.doubleCheck},on:{change:function(t){var o=e.formData.doubleCheck,r=t.target,n=!!r.checked;if(Array.isArray(o)){var c=e._i(o,null);r.checked?c<0&&e.$set(e.formData,"doubleCheck",o.concat([null])):c>-1&&e.$set(e.formData,"doubleCheck",o.slice(0,c).concat(o.slice(c+1)))}else e.$set(e.formData,"doubleCheck",n)}}}):"radio"===e.doubleCheckType?t("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.doubleCheck,expression:"formData.doubleCheck"}],staticClass:"input",attrs:{autocomplete:"off",type:"radio"},domProps:{checked:e._q(e.formData.doubleCheck,null)},on:{change:function(t){return e.$set(e.formData,"doubleCheck",null)}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.doubleCheck,expression:"formData.doubleCheck"}],staticClass:"input",attrs:{autocomplete:"off",type:e.doubleCheckType},domProps:{value:e.formData.doubleCheck},on:{input:function(t){t.target.composing||e.$set(e.formData,"doubleCheck",t.target.value)}}}),e._v(" "),t("CommonPasswordIcon",{attrs:{"pwd-type":e.doubleCheckType},on:{"update:pwdType":function(t){e.doubleCheckType=t},"update:pwd-type":function(t){e.doubleCheckType=t}}})],1)]:e._e()],2)])]),e._v(" "),t("div",{staticClass:"btns-block personal-info"},[e.isEdit?e._e():t("a",{staticClass:"next fdb-btn-primary-hover",attrs:{href:"javascript:void(0)"},on:{click:function(t){e.isEdit=!0}}},[e._v(e._s(e.$t("edit_content")))]),e._v(" "),e.isEdit?t("a",{staticClass:"cancel fdb-btn-default-hover",attrs:{href:"javascript:void(0)"},on:{click:e.cancelEdit}},[e._v(e._s(e.$t("cancel")))]):e._e(),e._v(" "),e.isEdit?t("a",{staticClass:"next fdb-btn-primary-hover",attrs:{href:"javascript:void(0)"},on:{click:e.saveUserData}},[e._v(e._s(e.$t("save")))]):e._e()])])}),[],!1,null,"c6bae452",null);t.default=component.exports;installComponents(component,{CommonPasswordIcon:o(785).default})}}]);